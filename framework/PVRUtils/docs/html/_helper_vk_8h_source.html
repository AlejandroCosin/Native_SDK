<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PVRUtils: /usr/buildxl/buildroot/sdk/branch/SDK/framework/PVRUtils/Vulkan/HelperVk.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="IMGdoxygen.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" type="image/x-icon" href="img.ico">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
  <div class="headercontent">
    <div class="PVRlogo">
      <a href="https://www.imgtec.com/developers/" target="_blank"><img src="PVRlogo.png" width="80%" height="80%"  border="none" /></a>
    </div>
    <a class="SiteTitle"><span id="projectname">PVRUtils</span> Documentation</a>
   <tbody>
  </div>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ca6309d378ceffb9970caf11a0592736.html">SDK</a></li><li class="navelem"><a class="el" href="dir_1b17efea2d0d450cd18d875f7f2a6e9c.html">framework</a></li><li class="navelem"><a class="el" href="dir_04d546e47904494c8f2a634ed861a0d7.html">PVRUtils</a></li><li class="navelem"><a class="el" href="dir_f07b109ccd199f39a4dc7ead82937581.html">Vulkan</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">HelperVk.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_helper_vk_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;PVRCore/PVRCore.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;PVRCore/stream/FileStream.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;PVRAssets/Model.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;PVRAssets/PVRAssets.h&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;PVRCore/texture/TextureLoad.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;PVRVk/DeviceVk.h&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;PVRVk/PhysicalDeviceVk.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;PVRVk/InstanceVk.h&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;PVRVk/CommandBufferVk.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;PVRVk/ImageVk.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;PVRVk/SurfaceVk.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_convert_to_p_v_r_vk_types_8h.html">ConvertToPVRVkTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;PVRVk/CommandPoolVk.h&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;PVRVk/QueueVk.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;PVRVk/RenderPassVk.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;PVRVk/FramebufferVk.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;PVRVk/SwapchainVk.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_memory_allocator_8h.html">PVRUtils/Vulkan/MemoryAllocator.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_multi_object_8h.html">PVRUtils/MultiObject.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacepvr.html">pvr</a> {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span>utils {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> PVRUtils_Throw_On_Validation_Error;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">inline bool isFormatDepthStencil(pvrvk::Format format) { return format &gt;= pvrvk::Format::e_D16_UNORM &amp;&amp; format &lt;= pvrvk::Format::e_D32_SFLOAT_S8_UINT; }</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a6bbf98fde377992e9e7e0d23f38a9dcc">getMemoryTypeIndex</a>(<span class="keyword">const</span> pvrvk::PhysicalDevice&amp; physicalDevice, <span class="keyword">const</span> uint32_t allowedMemoryTypeBits, <span class="keyword">const</span> pvrvk::MemoryPropertyFlags requiredMemoryProperties,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">const</span> pvrvk::MemoryPropertyFlags optimalMemoryProperties, uint32_t&amp; outMemoryTypeIndex, pvrvk::MemoryPropertyFlags&amp; outMemoryPropertyFlags);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a98e4ac9990af6eaf6b9bf0928f2bd07d">   59</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a98e4ac9990af6eaf6b9bf0928f2bd07d">populateClearValues</a>(<span class="keyword">const</span> pvrvk::RenderPass&amp; renderpass, <span class="keyword">const</span> pvrvk::ClearValue&amp; clearColor, <span class="keyword">const</span> pvrvk::ClearValue&amp; clearDepthStencilValue, pvrvk::ClearValue* outClearValues)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; renderpass-&gt;getCreateInfo().getNumAttachmentDescription(); ++i)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keyword">const</span> pvrvk::Format&amp; format = renderpass-&gt;getCreateInfo().getAttachmentDescription(i).getFormat();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacepvr_1_1utils.html#a7151c7b74ff657fc17ff09c0ab114a07">pvr::utils::isFormatDepthStencil</a>(format)) { outClearValues[i] = clearDepthStencilValue; }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            outClearValues[i] = clearColor;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a7b2d4df80d31e3e63923ab1d68152ace">   74</a></span>&#160;<span class="keyword">inline</span> uint8_t <a class="code" href="namespacepvr_1_1utils.html#a7b2d4df80d31e3e63923ab1d68152ace">getNumSamplesFromSampleCountFlags</a>(pvrvk::SampleCountFlags sampleCountFlags)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    uint8_t numSamples = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_1_BIT) != 0) { numSamples += 1; }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_2_BIT) != 0) { numSamples += 2; }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_4_BIT) != 0) { numSamples += 4; }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_8_BIT) != 0) { numSamples += 8; }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_16_BIT) != 0) { numSamples += 16; }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_32_BIT) != 0) { numSamples += 32; }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(sampleCountFlags &amp; pvrvk::SampleCountFlags::e_64_BIT) != 0) { numSamples += 64; }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> numSamples;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;pvrvk::ImageAspectFlags <a class="code" href="namespacepvr_1_1utils.html#a93735fa36d5aedc03cf746dfa208a4b5">inferAspectFromFormat</a>(pvrvk::Format format);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a56ce1f5bcf625224715988176c3519a2">getColorBits</a>(pvrvk::Format format, uint32_t&amp; redBits, uint32_t&amp; greenBits, uint32_t&amp; blueBits, uint32_t&amp; alphaBits);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a1bcac1e9af1869244329d12c291200a5">getDepthStencilBits</a>(pvrvk::Format format, uint32_t&amp; depthBits, uint32_t&amp; stencilBits);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">struct </span>DebugUtilsCallbacks</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_debug_utils_callbacks.html#aeb1f89203f5e3397200ff8b491810dea">  117</a></span>&#160;    pvrvk::DebugUtilsMessenger <a class="code" href="structpvr_1_1utils_1_1_debug_utils_callbacks.html#aeb1f89203f5e3397200ff8b491810dea">debugUtilsMessengers</a>[2];</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_debug_utils_callbacks.html#a9e94e7d45269071a64d86419c18df205">  119</a></span>&#160;    pvrvk::DebugReportCallback <a class="code" href="structpvr_1_1utils_1_1_debug_utils_callbacks.html#a9e94e7d45269071a64d86419c18df205">debugCallbacks</a>[2];</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;};</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<a class="code" href="structpvr_1_1utils_1_1_debug_utils_callbacks.html">DebugUtilsCallbacks</a> <a class="code" href="namespacepvr_1_1utils.html#a3c7a82ad08f5f77c574a75fc1c4eca9a">createDebugUtilsCallbacks</a>(pvrvk::Instance&amp; instance);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a7eaec27096b06e097a3ead372e30c68c">  132</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a7eaec27096b06e097a3ead372e30c68c">beginQueueDebugLabel</a>(pvrvk::Queue queue, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// if the VK_EXT_debug_utils extension is supported then start the queue label region</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (queue-&gt;getDevice()-&gt;getPhysicalDevice()-&gt;getInstance()-&gt;getEnabledExtensionTable().extDebugUtilsEnabled) { queue-&gt;beginDebugUtilsLabel(labelInfo); }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a605300322093e44b7cd509533f14b4fa">  140</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a605300322093e44b7cd509533f14b4fa">endQueueDebugLabel</a>(pvrvk::Queue queue)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// if the VK_EXT_debug_utils extension is supported then end the queue label region</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (queue-&gt;getDevice()-&gt;getPhysicalDevice()-&gt;getInstance()-&gt;getEnabledExtensionTable().extDebugUtilsEnabled) { queue-&gt;endDebugUtilsLabel(); }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">  150</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">beginCommandBufferDebugLabel</a>(pvrvk::CommandBufferBase commandBufferBase, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// if the VK_EXT_debug_utils extension is supported then start the queue label region</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (commandBufferBase-&gt;getDevice()-&gt;getPhysicalDevice()-&gt;getInstance()-&gt;getEnabledExtensionTable().extDebugUtilsEnabled) { commandBufferBase-&gt;beginDebugUtilsLabel(labelInfo); }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// else if the VK_EXT_debug_marker extension is supported then start the debug marker region</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (commandBufferBase-&gt;getDevice()-&gt;getEnabledExtensionTable().extDebugMarkerEnabled)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        pvrvk::DebugMarkerMarkerInfo markerInfo(labelInfo.getLabelName(), labelInfo.getR(), labelInfo.getG(), labelInfo.getB(), labelInfo.getA());</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        commandBufferBase-&gt;debugMarkerBeginEXT(markerInfo);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">  164</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">endCommandBufferDebugLabel</a>(pvrvk::CommandBufferBase commandBufferBase)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// if the VK_EXT_debug_utils extension is supported then end the command buffer label region</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (commandBufferBase-&gt;getDevice()-&gt;getPhysicalDevice()-&gt;getInstance()-&gt;getEnabledExtensionTable().extDebugUtilsEnabled) { commandBufferBase-&gt;endDebugUtilsLabel(); }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// else if the VK_EXT_debug_marker extension is supported then end the debug marker region</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (commandBufferBase-&gt;getDevice()-&gt;getEnabledExtensionTable().extDebugMarkerEnabled)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        commandBufferBase-&gt;debugMarkerEndEXT();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">  178</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">insertDebugUtilsLabel</a>(pvrvk::CommandBufferBase commandBufferBase, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// if the VK_EXT_debug_utils extension is supported then insert the queue label region</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (commandBufferBase-&gt;getDevice()-&gt;getPhysicalDevice()-&gt;getInstance()-&gt;getEnabledExtensionTable().extDebugUtilsEnabled)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    { commandBufferBase-&gt;insertDebugUtilsLabel(labelInfo); } <span class="comment">// else if the VK_EXT_debug_marker extension is supported then insert the debug marker</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (commandBufferBase-&gt;getDevice()-&gt;getEnabledExtensionTable().extDebugMarkerEnabled)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        pvrvk::DebugMarkerMarkerInfo markerInfo(labelInfo.getLabelName(), labelInfo.getR(), labelInfo.getG(), labelInfo.getB(), labelInfo.getA());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        commandBufferBase-&gt;debugMarkerInsertEXT(markerInfo);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ab62f121a7b8a9d790ca4e4e3dfcff0aa">  194</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">beginCommandBufferDebugLabel</a>(pvrvk::CommandBuffer&amp; commandBuffer, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">beginCommandBufferDebugLabel</a>(<span class="keyword">static_cast&lt;</span>pvrvk::CommandBufferBase<span class="keyword">&gt;</span>(commandBuffer), labelInfo);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a45dc67a22e33dc6bf735edc27a1432ef">  203</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">beginCommandBufferDebugLabel</a>(pvrvk::SecondaryCommandBuffer&amp; secondaryCommandBuffer, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">beginCommandBufferDebugLabel</a>(<span class="keyword">static_cast&lt;</span>pvrvk::CommandBufferBase<span class="keyword">&gt;</span>(secondaryCommandBuffer), labelInfo);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a2da693f264b2b719a77fc84bf0a32ec5">  210</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">endCommandBufferDebugLabel</a>(pvrvk::CommandBuffer&amp; commandBuffer) { <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">endCommandBufferDebugLabel</a>(<span class="keyword">static_cast&lt;</span>pvrvk::CommandBufferBase<span class="keyword">&gt;</span>(commandBuffer)); }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#adee1c88c7937b7a16127e810b75b2ab7">  214</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">endCommandBufferDebugLabel</a>(pvrvk::SecondaryCommandBuffer&amp; secondaryCommandBuffer)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">endCommandBufferDebugLabel</a>(<span class="keyword">static_cast&lt;</span>pvrvk::CommandBufferBase<span class="keyword">&gt;</span>(secondaryCommandBuffer));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ab77d5528ee9f9dc1f4dda381175b89eb">  222</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">insertDebugUtilsLabel</a>(pvrvk::CommandBuffer&amp; commandBuffer, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">insertDebugUtilsLabel</a>(<span class="keyword">static_cast&lt;</span>pvrvk::CommandBufferBase<span class="keyword">&gt;</span>(commandBuffer), labelInfo);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a2938b3543ae68e23f0f2eb348a786ae9">  230</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">insertDebugUtilsLabel</a>(pvrvk::SecondaryCommandBuffer&amp; secondaryCommandBuffer, <span class="keyword">const</span> pvrvk::DebugUtilsLabel&amp; labelInfo)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">insertDebugUtilsLabel</a>(<span class="keyword">static_cast&lt;</span>pvrvk::CommandBufferBase<span class="keyword">&gt;</span>(secondaryCommandBuffer), labelInfo);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;VKAPI_ATTR VkBool32 VKAPI_CALL <a class="code" href="namespacepvr_1_1utils.html#aaf3d187bfb119271fea887f28268699a">throwOnErrorDebugUtilsMessengerCallback</a>(VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity, VkDebugUtilsMessageTypeFlagsEXT messageTypes,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">const</span> VkDebugUtilsMessengerCallbackDataEXT* pCallbackData, <span class="keywordtype">void</span>* pUserData);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;VKAPI_ATTR VkBool32 VKAPI_CALL <a class="code" href="namespacepvr_1_1utils.html#a5e37e4f2f8723d81f2f60ff7c9ffebdf">logMessageDebugUtilsMessengerCallback</a>(VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity, VkDebugUtilsMessageTypeFlagsEXT messageTypes,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">const</span> VkDebugUtilsMessengerCallbackDataEXT* pCallbackData, <span class="keywordtype">void</span>* pUserData);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;VKAPI_ATTR VkBool32 VKAPI_CALL <a class="code" href="namespacepvr_1_1utils.html#a54f2bb511b50d2c11ddc7377a60714ad">throwOnErrorDebugReportCallback</a>(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t <span class="keywordtype">object</span>, <span class="keywordtype">size_t</span> location,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    int32_t messageCode, <span class="keyword">const</span> <span class="keywordtype">char</span>* pLayerPrefix, <span class="keyword">const</span> <span class="keywordtype">char</span>* pMessage, <span class="keywordtype">void</span>* pUserData);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;VKAPI_ATTR VkBool32 VKAPI_CALL <a class="code" href="namespacepvr_1_1utils.html#a1cbbbd1665449ea70d772de63595c806">logMessageDebugReportCallback</a>(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t <span class="keywordtype">object</span>, <span class="keywordtype">size_t</span> location,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    int32_t messageCode, <span class="keyword">const</span> <span class="keywordtype">char</span>* pLayerPrefix, <span class="keyword">const</span> <span class="keywordtype">char</span>* pMessage, <span class="keywordtype">void</span>* pUserData);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#abbd1f30f49a0d36c9d932437e902d2bb">  285</a></span>&#160;<span class="keyword">inline</span> LogLevel <a class="code" href="namespacepvr_1_1utils.html#abbd1f30f49a0d36c9d932437e902d2bb">mapDebugUtilsMessageSeverityFlagsToLogLevel</a>(pvrvk::DebugUtilsMessageSeverityFlagsEXT flags)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugUtilsMessageSeverityFlagsEXT::e_INFO_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Information; }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugUtilsMessageSeverityFlagsEXT::e_WARNING_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Warning; }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugUtilsMessageSeverityFlagsEXT::e_VERBOSE_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Debug; }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugUtilsMessageSeverityFlagsEXT::e_ERROR_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Error; }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> LogLevel::Information;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#aee21903727c73558ad8e3cf936917344">  297</a></span>&#160;<span class="keyword">inline</span> LogLevel <a class="code" href="namespacepvr_1_1utils.html#aee21903727c73558ad8e3cf936917344">mapDebugReportFlagsToLogLevel</a>(pvrvk::DebugReportFlagsEXT flags)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_INFORMATION_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Information; }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_WARNING_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Warning; }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_PERFORMANCE_WARNING_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Performance; }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_ERROR_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Error; }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_DEBUG_BIT_EXT) != 0) { <span class="keywordflow">return</span> LogLevel::Debug; }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> LogLevel::Information;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;pvrvk::Buffer <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(<span class="keyword">const</span> pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::BufferCreateInfo&amp; createInfo, pvrvk::MemoryPropertyFlags requiredMemoryFlags,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    pvrvk::MemoryPropertyFlags optimalMemoryFlags = pvrvk::MemoryPropertyFlags::e_NONE, <span class="keyword">const</span> vma::Allocator&amp; bufferAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT, pvrvk::MemoryAllocateFlags memoryAllocateFlags = pvrvk::MemoryAllocateFlags::e_NONE);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#aeadbbd98fbeac18389e58b089db81e73">createImage</a>(<span class="keyword">const</span> pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::ImageCreateInfo&amp; createInfo,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT, pvrvk::MemoryPropertyFlags optimalMemoryFlags = pvrvk::MemoryPropertyFlags::e_NONE,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">const</span> vma::Allocator&amp; imageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">void setImageLayoutAndQueueFamilyOwnership(pvrvk::CommandBufferBase srccmd, pvrvk::CommandBufferBase dstcmd, uint32_t srcQueueFamily, uint32_t dstQueueFamily,</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, <a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a>&amp; image, uint32_t baseMipLevel, uint32_t numMipLevels, uint32_t baseArrayLayer, uint32_t numArrayLayers,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    pvrvk::ImageAspectFlags aspect);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a076fe31eafd575f7f2a10f27f6130935">  372</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a076fe31eafd575f7f2a10f27f6130935">setImageLayout</a>(<a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a>&amp; image, pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, pvrvk::CommandBufferBase transitionCmdBuffer)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a19f7af5558e7afc812edc1e8899d8f50">setImageLayoutAndQueueFamilyOwnership</a>(transitionCmdBuffer, pvrvk::CommandBufferBase(), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(-1), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(-1), oldLayout, newLayout, image, 0,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        image-&gt;getNumMipLevels(), 0, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(image-&gt;getNumArrayLayers()), <a class="code" href="namespacepvr_1_1utils.html#a93735fa36d5aedc03cf746dfa208a4b5">inferAspectFromFormat</a>(image-&gt;getFormat()));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#ac3d376caf410d6a539eb713d8886ebee">uploadImageAndViewSubmit</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandPool&amp; commandPool, pvrvk::Queue&amp; queue,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a7fbafa4f264dcddf481f21ad03027d97">uploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::SecondaryCommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a7fbafa4f264dcddf481f21ad03027d97">uploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#aff24a1e7c47775943d761eaa3f7f555e">uploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a868fafd2e077cfc7281c45c64677e47a">loadAndUploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a370ec57dd60df6f8d8327619a8a90178">loadAndUploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a370ec57dd60df6f8d8327619a8a90178">loadAndUploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> std::string&amp; fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a868fafd2e077cfc7281c45c64677e47a">loadAndUploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::SecondaryCommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    IAssetProvider&amp; assetProvider, pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    vma::Allocator imageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a370ec57dd60df6f8d8327619a8a90178">loadAndUploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::SecondaryCommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html">  560</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_image_update_info.html">ImageUpdateInfo</a></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// 1D/Array texture and common for rest</span></div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">  563</a></span>&#160;    int32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">offsetX</a>; </div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">  564</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">imageWidth</a>; </div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">  565</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">dataWidth</a>; </div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a6cde0ffe41f15363a6589bf287aa30d3">  566</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a6cde0ffe41f15363a6589bf287aa30d3">arrayIndex</a>; </div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">  567</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">mipLevel</a>; </div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">  568</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">data</a>; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">  569</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">dataSize</a>; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// 2D/ Array texture only</span></div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">  572</a></span>&#160;    int32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">offsetY</a>; </div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">  573</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">imageHeight</a>; </div>
<div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">  574</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">dataHeight</a>; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// cube/ Array Map only. Derive all states above</span></div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">  577</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">cubeFace</a>; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// 3D texture Only. Derive all states above Except arrayIndex</span></div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">  580</a></span>&#160;    int32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">offsetZ</a>; </div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">  581</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">depth</a>; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html">ImageUpdateInfo</a>()</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        : <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">offsetX</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">imageWidth</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">dataWidth</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">mipLevel</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">data</a>(nullptr), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">dataSize</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">offsetY</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">imageHeight</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">dataHeight</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">cubeFace</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">offsetZ</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">depth</a>(1)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    {}</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;};</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a0f4a3a0c8eb6662f51128ce8a3b78a9f">updateImage</a>(pvrvk::Device&amp; device, pvrvk::CommandBufferBase transferCommandBuffer, ImageUpdateInfo* updateInfos, uint32_t numUpdateInfos, pvrvk::Format format,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    pvrvk::ImageLayout layout, <span class="keywordtype">bool</span> isCubeMap, <a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a>&amp; image, vma::Allocator bufferAllocator = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">  613</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(pvrvk::Buffer&amp; buffer, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, VkDeviceSize offset = 0, VkDeviceSize size = VK_WHOLE_SIZE, <span class="keywordtype">bool</span> flushMemory = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordtype">void</span>* mapData = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordtype">bool</span> unmap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (!buffer-&gt;getDeviceMemory()-&gt;isMapped())</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        mapData = buffer-&gt;getDeviceMemory()-&gt;map(offset, size);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        unmap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        mapData = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(buffer-&gt;getDeviceMemory()-&gt;getMappedData()) + offset;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    memcpy(mapData, data, (<span class="keywordtype">size_t</span>)size);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_COHERENT_BIT) != 0) { flushMemory = <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span> (flushMemory) { buffer-&gt;getDeviceMemory()-&gt;flushRange(offset, size); }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (unmap) { buffer-&gt;getDeviceMemory()-&gt;unmap(); }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">  644</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(pvrvk::Device&amp; device, pvrvk::Buffer&amp; buffer, pvrvk::CommandBufferBase uploadCmdBuffer, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, VkDeviceSize offset = 0,</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    VkDeviceSize size = VK_WHOLE_SIZE, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> stagingBufferAllocator = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// Updating memory via the use of staging buffers is necessary when memory is not host visible. In this case the buffer memory will be updated indirectly as follows:</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">//      1. Create a staging buffer</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">//      2. map the staging buffer memory, update the memory, then unmap the buffer memory</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">//      3. Copy from the staging buffer to the target buffer</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">pvr::utils::beginCommandBufferDebugLabel</a>(uploadCmdBuffer, pvrvk::DebugUtilsLabel(<span class="stringliteral">&quot;PVRUtilsVk::updateBufferUsingStagingBuffer&quot;</span>));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// 1. Create a staging buffer</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    pvrvk::MemoryPropertyFlags memoryFlags = pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    pvrvk::Buffer stagingBuffer =</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">pvr::utils::createBuffer</a>(device, pvrvk::BufferCreateInfo(size, pvrvk::BufferUsageFlags::e_TRANSFER_SRC_BIT), memoryFlags, memoryFlags, stagingBufferAllocator);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// 2. map (if required), then update the memory, then finally unmap (if required)</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(stagingBuffer, data, 0, size, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// 3. Copy from the staging buffer to the target buffer</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keyword">const</span> pvrvk::BufferCopy bufferCopy(0, offset, size);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    uploadCmdBuffer-&gt;copyBuffer(stagingBuffer, buffer, 1, &amp;bufferCopy);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">pvr::utils::endCommandBufferDebugLabel</a>(uploadCmdBuffer);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a9af7fff69d5da0331018f68f0d95ba8a">generateTextureAtlas</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a>* inputImages, pvrvk::Rect2Df* outUVs, uint32_t numImages, pvrvk::ImageLayout inputImageLayout,</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    pvrvk::ImageView* outImageView, TextureHeader* outDescriptor, pvrvk::CommandBufferBase cmdBuffer, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    vma::Allocator imageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="keyword">struct </span>VulkanVersion</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div>
<div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">  696</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">  698</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">  700</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a93aa7e756fb29313e3556bb4f5c10f3a">  706</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a93aa7e756fb29313e3556bb4f5c10f3a">VulkanVersion</a>(uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a> = 1, uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a> = 1, uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a> = 0) : <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>), <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>), <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>) {}</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a4a7dfa46502a507457263578dd48e572">  710</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a4a7dfa46502a507457263578dd48e572">toVulkanVersion</a>() { <span class="keywordflow">return</span> VK_MAKE_VERSION(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>, <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>, <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>); }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;};</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_layers.html">  714</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_instance_layers.html">InstanceLayers</a> : <span class="keyword">public</span> pvrvk::VulkanLayerList</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;{</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html#a847198ad122769b11e33da68c05725cd">InstanceLayers</a>(<span class="keywordtype">bool</span> forceLayers =</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;#ifdef DEBUG</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                       <span class="keyword">true</span>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                       <span class="keyword">false</span>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;};</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_extensions.html">  728</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html">InstanceExtensions</a> : <span class="keyword">public</span> pvrvk::VulkanExtensionList</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html#a3578abfc0e4e90921df30baa73dd2194">InstanceExtensions</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;};</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_device_extensions.html">  735</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_device_extensions.html">DeviceExtensions</a> : <span class="keyword">public</span> pvrvk::VulkanExtensionList</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#ab080c06dadfec28a35acd108a24a87c6">DeviceExtensions</a>();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;};</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;pvrvk::Instance <a class="code" href="namespacepvr_1_1utils.html#a680ef5943947e565f7d14aa9ff0393d9">createInstance</a>(<span class="keyword">const</span> std::string&amp; applicationName, <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html">VulkanVersion</a> apiVersion = <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html">VulkanVersion</a>(), <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html">InstanceExtensions</a>&amp; instanceExtensions = <a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html">InstanceExtensions</a>(),</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html">InstanceLayers</a>&amp; instanceLayers = <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html">InstanceLayers</a>());</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html">  754</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html">QueuePopulateInfo</a></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;{</div>
<div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">  757</a></span>&#160;    pvrvk::QueueFlags <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">  760</a></span>&#160;    pvrvk::Surface <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">surface</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">  763</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#a5eeb3d84dac92d6718f2b6d7f03d653d">  768</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a5eeb3d84dac92d6718f2b6d7f03d653d">QueuePopulateInfo</a>(pvrvk::QueueFlags <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>, <span class="keywordtype">float</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a> = 1.0f) : <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>), <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>) {}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8d5ad873b0ae0c6c8c82511c5e7a72aa">  774</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8d5ad873b0ae0c6c8c82511c5e7a72aa">QueuePopulateInfo</a>(pvrvk::QueueFlags <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>, pvrvk::Surface&amp; <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">surface</a>, <span class="keywordtype">float</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a> = 1.0f) : <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>), <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">surface</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">surface</a>), <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>) {}</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;};</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html">  779</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html">QueueAccessInfo</a></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;{</div>
<div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">  782</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">familyId</a>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">  785</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">queueId</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html#a01adf09947e46f17ac7f924a3b5186f2">  788</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#a01adf09947e46f17ac7f924a3b5186f2">QueueAccessInfo</a>() : <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">familyId</a>(static_cast&lt;uint32_t&gt;(-1)), <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">queueId</a>(static_cast&lt;uint32_t&gt;(-1)) {}</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;};</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;pvrvk::Device <a class="code" href="namespacepvr_1_1utils.html#a34226196d1cd435e8f19abecc2d3b0eb">createDeviceAndQueues</a>(pvrvk::PhysicalDevice physicalDevice, <span class="keyword">const</span> QueuePopulateInfo* queueCreateInfos, uint32_t numQueueCreateInfos, QueueAccessInfo* outAccessInfo,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keyword">const</span> DeviceExtensions&amp; deviceExtensions = DeviceExtensions());</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;pvrvk::Surface <a class="code" href="namespacepvr_1_1utils.html#a3530d448cda15aea32f3395ca427957b">createSurface</a>(<span class="keyword">const</span> pvrvk::Instance&amp; instance, <span class="keyword">const</span> pvrvk::PhysicalDevice&amp; physicalDevice, <span class="keywordtype">void</span>* window, <span class="keywordtype">void</span>* display, <span class="keywordtype">void</span>* connection);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a59222cc49624a76fab4d4f65e3337ac3">  818</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacepvr_1_1utils.html#a59222cc49624a76fab4d4f65e3337ac3">isImageUsageSupportedBySurface</a>(<span class="keyword">const</span> pvrvk::SurfaceCapabilitiesKHR&amp; surfaceCapabilities, pvrvk::ImageUsageFlags imageUsage)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(surfaceCapabilities.getSupportedUsageFlags() &amp; imageUsage) != 0);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;pvrvk::Swapchain <a class="code" href="namespacepvr_1_1utils.html#a1bbc4fadd267c20f1464ab4d21269bbf">createSwapchain</a>(<span class="keyword">const</span> pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    pvrvk::ImageUsageFlags swapchainImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keyword">const</span> std::vector&lt;pvrvk::Format&gt;&amp; preferredColorFormats = std::vector&lt;pvrvk::Format&gt;());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="keywordtype">bool</span> isSupportedDepthStencilFormat(<span class="keyword">const</span> pvrvk::Device&amp; device, pvrvk::Format format);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;pvrvk::Format getSupportedDepthStencilFormat(<span class="keyword">const</span> pvrvk::Device&amp; device, pvr::DisplayAttributes&amp; displayAttributes, std::vector&lt;pvrvk::Format&gt; preferredDepthFormats = {});</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ImageContainer&gt;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> createAttachmentImages(ImageContainer&amp; outImages, <span class="keyword">const</span> pvrvk::Device&amp; device, int32_t imageCount, pvrvk::Format format, <span class="keyword">const</span> pvrvk::Extent2D&amp; imageExtent,</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; imageUsageFlags, pvrvk::SampleCountFlags sampleCount, <span class="keyword">const</span> vma::Allocator&amp; imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT, <span class="keyword">const</span> std::string&amp; objectName = std::string())</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;{</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// the required memory property flags</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keyword">const</span> pvrvk::MemoryPropertyFlags requiredMemoryProperties = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// more optimal set of memory property flags</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keyword">const</span> pvrvk::MemoryPropertyFlags optimalMemoryProperties = (imageUsageFlags &amp; pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT) != 0</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        ? pvrvk::MemoryPropertyFlags::e_LAZILY_ALLOCATED_BIT</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        : pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordflow">for</span> (int32_t i = 0; i &lt; imageCount; ++i)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a> depthStencilImage = <a class="code" href="namespacepvr_1_1utils.html#aeadbbd98fbeac18389e58b089db81e73">createImage</a>(device,</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            pvrvk::ImageCreateInfo(pvrvk::ImageType::e_2D, format, pvrvk::Extent3D(imageExtent.getWidth(), imageExtent.getHeight(), 1u), imageUsageFlags, 1, 1, sampleCount),</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            requiredMemoryProperties, optimalMemoryProperties, imageAllocator, imageAllocationCreateFlags);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        depthStencilImage-&gt;setObjectName(objectName + <span class="stringliteral">&quot; Image [&quot;</span> + std::to_string(i) + std::string(<span class="stringliteral">&quot;]&quot;</span>));</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        outImages[i] = device-&gt;createImageView(pvrvk::ImageViewCreateInfo(depthStencilImage));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        outImages[i]-&gt;setObjectName(std::string(objectName + <span class="stringliteral">&quot; ImageView [&quot;</span> + std::to_string(i) + std::string(<span class="stringliteral">&quot;]&quot;</span>)));</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html">  877</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html">CreateSwapchainParameters</a></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordtype">bool</span> createDepthBuffer = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a0f17c13485c6c9b79384060f679feb8f">  881</a></span>&#160;    pvrvk::ImageUsageFlags <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a0f17c13485c6c9b79384060f679feb8f">colorImageUsageFlags</a> = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT;</div>
<div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#adf2f875d5f09252f62a98d7ffb5bca43">  883</a></span>&#160;    pvrvk::ImageUsageFlags <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#adf2f875d5f09252f62a98d7ffb5bca43">depthStencilImageUsageFlags</a> = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT;</div>
<div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a431dbf49f0e027bd56dd461abd581f6a">  885</a></span>&#160;    pvrvk::ImageUsageFlags <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a431dbf49f0e027bd56dd461abd581f6a">colorAttachmentFlagsIfMultisampled</a> = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT;</div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#ad7a3e2e94b815d1f050e23a832fff55c">  887</a></span>&#160;    pvrvk::ImageUsageFlags <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#ad7a3e2e94b815d1f050e23a832fff55c">depthStencilAttachmentFlagsIfMultisampled</a> = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT;</div>
<div class="line"><a name="l00889"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a536e064fd5bd062dab8b10d62542a047">  889</a></span>&#160;    <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a536e064fd5bd062dab8b10d62542a047">imageAllocator</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#abfc39f69eccb3090b41a95013ddfd682">  891</a></span>&#160;    <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#abfc39f69eccb3090b41a95013ddfd682">imageAllocatorFlags</a> = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a66a405da028afef5eb14516642942666">  894</a></span>&#160;    pvrvk::ImageLayout <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a66a405da028afef5eb14516642942666">initialSwapchainLayout</a> = pvrvk::ImageLayout::e_UNDEFINED;</div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a8b7a085321cdbf5ac6a528dbae40cb30">  896</a></span>&#160;    pvrvk::ImageLayout <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a8b7a085321cdbf5ac6a528dbae40cb30">initialDepthStencilLayout</a> = pvrvk::ImageLayout::e_UNDEFINED;</div>
<div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#aedece401264d913e0d2bbd69f31f7104">  898</a></span>&#160;    pvrvk::AttachmentLoadOp <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#aedece401264d913e0d2bbd69f31f7104">colorLoadOp</a> = pvrvk::AttachmentLoadOp::e_CLEAR;</div>
<div class="line"><a name="l00900"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a2f5ffc86dccf4556acd4e686e6e31778">  900</a></span>&#160;    pvrvk::AttachmentStoreOp <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a2f5ffc86dccf4556acd4e686e6e31778">colorStoreOp</a> = pvrvk::AttachmentStoreOp::e_STORE;</div>
<div class="line"><a name="l00902"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#aec4f6de36b6b88b379a7aea42fd41141">  902</a></span>&#160;    pvrvk::AttachmentLoadOp <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#aec4f6de36b6b88b379a7aea42fd41141">depthStencilLoadOp</a> = pvrvk::AttachmentLoadOp::e_CLEAR;</div>
<div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a6bbf339741431c707310cd47ea841300">  904</a></span>&#160;    pvrvk::AttachmentStoreOp <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a6bbf339741431c707310cd47ea841300">depthStencilStoreOp</a> = pvrvk::AttachmentStoreOp::e_DONT_CARE;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordtype">void</span> addPreferredColorFormat(pvrvk::Format format) { preferredColorFormats.push_back(format); }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">void</span> addPreferredDepthStencilFormat(pvrvk::Format format) { preferredDepthStencilFormats.push_back(format); }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    std::vector&lt;pvrvk::Format&gt; preferredColorFormats;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    std::vector&lt;pvrvk::Format&gt; preferredDepthStencilFormats;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    CreateSwapchainParameters(<span class="keywordtype">bool</span> createDepthBuffer = <span class="keyword">true</span>, pvrvk::ImageUsageFlags colorBufferImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        pvrvk::ImageUsageFlags depthStencilBufferImageUsageFlags = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        pvrvk::ImageUsageFlags intermediateColorImageUsageFlagsIfMultisampled = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        pvrvk::ImageUsageFlags intermediateDepthStencilImageUsageFlags = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        vma::Allocator <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a536e064fd5bd062dab8b10d62542a047">imageAllocator</a> = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#abfc39f69eccb3090b41a95013ddfd682">imageAllocatorFlags</a> = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        : createDepthBuffer(createDepthBuffer), <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a0f17c13485c6c9b79384060f679feb8f">colorImageUsageFlags</a>(colorBufferImageUsageFlags), <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#adf2f875d5f09252f62a98d7ffb5bca43">depthStencilImageUsageFlags</a>(depthStencilBufferImageUsageFlags),</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a431dbf49f0e027bd56dd461abd581f6a">colorAttachmentFlagsIfMultisampled</a>(intermediateColorImageUsageFlagsIfMultisampled), <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#ad7a3e2e94b815d1f050e23a832fff55c">depthStencilAttachmentFlagsIfMultisampled</a>(intermediateDepthStencilImageUsageFlags),</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a536e064fd5bd062dab8b10d62542a047">imageAllocator</a>(<a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a536e064fd5bd062dab8b10d62542a047">imageAllocator</a>), <a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#abfc39f69eccb3090b41a95013ddfd682">imageAllocatorFlags</a>(<a class="code" href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#abfc39f69eccb3090b41a95013ddfd682">imageAllocatorFlags</a>)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    { <span class="comment">//</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    CreateSwapchainParameters&amp; setAllocator(vma::Allocator allocator)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        this-&gt;imageAllocator = allocator;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    CreateSwapchainParameters&amp; setAllocatorFlags(vma::AllocationCreateFlags flags)</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    {</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        this-&gt;imageAllocatorFlags = flags;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    CreateSwapchainParameters&amp; enableDepthBuffer(<span class="keywordtype">bool</span> enableCreateDepthBuffer)</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        this-&gt;createDepthBuffer = enableCreateDepthBuffer;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    CreateSwapchainParameters&amp; setColorImageUsageFlags(pvrvk::ImageUsageFlags flags)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        this-&gt;colorImageUsageFlags = flags;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    CreateSwapchainParameters&amp; setMultisampledColorResolveImageUsageFlags(pvrvk::ImageUsageFlags flags)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        this-&gt;colorImageUsageFlags = flags;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    CreateSwapchainParameters&amp; setDepthStencilImageUsageFlags(pvrvk::ImageUsageFlags flags)</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        this-&gt;depthStencilImageUsageFlags = flags;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    CreateSwapchainParameters&amp; setMultisampledDepthStencilResolveImageUsageFlags(pvrvk::ImageUsageFlags flags)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        this-&gt;depthStencilImageUsageFlags = flags;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    CreateSwapchainParameters&amp; setMultisampledDepthStencilAttachmentFlags(pvrvk::ImageUsageFlags flags)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        this-&gt;depthStencilAttachmentFlagsIfMultisampled = flags;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    CreateSwapchainParameters&amp; setMultisampledColorAttachmentFlags(pvrvk::ImageUsageFlags flags)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        this-&gt;colorAttachmentFlagsIfMultisampled = flags;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    CreateSwapchainParameters&amp; setColorLoadOp(pvrvk::AttachmentLoadOp op)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        this-&gt;colorLoadOp = op;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    CreateSwapchainParameters&amp; setColorStoreOp(pvrvk::AttachmentStoreOp op)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        this-&gt;colorStoreOp = op;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    CreateSwapchainParameters&amp; setDepthStencilLoadOp(pvrvk::AttachmentLoadOp op)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        this-&gt;depthStencilLoadOp = op;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    CreateSwapchainParameters&amp; setDepthStencilStoreOp(pvrvk::AttachmentStoreOp op)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        this-&gt;depthStencilStoreOp = op;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    CreateSwapchainParameters&amp; setInitialSwapchainLayout(pvrvk::ImageLayout layout)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        this-&gt;initialSwapchainLayout = layout;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    CreateSwapchainParameters&amp; setInitialDepthStencilLayout(pvrvk::ImageLayout layout)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        this-&gt;initialDepthStencilLayout = layout;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;};</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html"> 1000</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html">OnScreenObjects</a></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;{</div>
<div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html#a4c6632a312584626162aa49c8e4156f4"> 1003</a></span>&#160;    pvrvk::RenderPass <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a4c6632a312584626162aa49c8e4156f4">renderPass</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html#a6aba5f3c28108c13b8e3214125634852"> 1005</a></span>&#160;    <a class="code" href="classpvr_1_1_multi.html">pvr::Multi&lt;pvrvk::Framebuffer&gt;</a> <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a6aba5f3c28108c13b8e3214125634852">framebuffer</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html#a3a0f31739dd381069c4eb8187f722191"> 1007</a></span>&#160;    pvrvk::Swapchain <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a3a0f31739dd381069c4eb8187f722191">swapchain</a>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html#a3b1d065f0100541b2bbdb7763550bfbe"> 1009</a></span>&#160;    <a class="code" href="classpvr_1_1_multi.html">pvr::Multi&lt;pvrvk::ImageView&gt;</a> <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a3b1d065f0100541b2bbdb7763550bfbe">depthStencilImages</a>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html#a2079bd8a3a8c8a97ec1310d425515f22"> 1011</a></span>&#160;    <a class="code" href="classpvr_1_1_multi.html">pvr::Multi&lt;pvrvk::ImageView&gt;</a> <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a2079bd8a3a8c8a97ec1310d425515f22">colorMultisampledAttachmentImages</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_on_screen_objects.html#a34018b1ee286f6223365b66a0d8145c2"> 1013</a></span>&#160;    <a class="code" href="classpvr_1_1_multi.html">pvr::Multi&lt;pvrvk::ImageView&gt;</a> <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a34018b1ee286f6223365b66a0d8145c2">depthStencilMultisampledAttachmentImages</a>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordtype">bool</span> isMultisampled() { <span class="keywordflow">return</span> <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a2079bd8a3a8c8a97ec1310d425515f22">colorMultisampledAttachmentImages</a>.<a class="code" href="classpvr_1_1_multi.html#a2e662f3b39e54e6995421a1f15ed9103">size</a>() != 0; }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordtype">bool</span> hasDepthStencil() { <span class="keywordflow">return</span> <a class="code" href="structpvr_1_1utils_1_1_on_screen_objects.html#a3b1d065f0100541b2bbdb7763550bfbe">depthStencilImages</a>.<a class="code" href="classpvr_1_1_multi.html#a2e662f3b39e54e6995421a1f15ed9103">size</a>() != 0; }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;};</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;OnScreenObjects <a class="code" href="namespacepvr_1_1utils.html#a8589ef735f2d2222a14ba470218c02af">createSwapchainRenderpassFramebuffers</a>(</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keyword">const</span> pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes, <span class="keyword">const</span> CreateSwapchainParameters&amp; params = CreateSwapchainParameters());</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;[[deprecated(<span class="stringliteral">&quot;createDepthStencilImageAndViews is deprecated in v5.5 and will be removed. Superseded by createSwapchainRenderpassFramebuffers which supports multisampling &quot;</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;             <span class="stringliteral">&quot;correctly and &quot;</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;             <span class="stringliteral">&quot;provides an improved interface.&quot;</span>)]] <span class="keywordtype">void</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a33c374ce16fadf5be9b63e3675e51585">createSwapchainAndDepthStencilImageAndViews</a>(<span class="keyword">const</span> pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes, pvrvk::Swapchain&amp; outSwapchain,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        Multi&lt;pvrvk::ImageView&gt;&amp; outDepthStencilImages, <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; swapchainImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; dsImageUsageFlags = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT,</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keyword">const</span> vma::Allocator&amp; imageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags dsImageAllocationCreateFlags = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;[[deprecated(<span class="stringliteral">&quot;createDepthStencilImageAndViews is deprecated. Superseded by createAttachmentImages, which has an improved interface and allows any kind of attachment and &quot;</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;             <span class="stringliteral">&quot;container.&quot;</span>)]] <span class="keyword">inline</span> std::vector&lt;pvrvk::ImageView&gt;</div>
<div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a5f9424bfa72230f6de076797e8a9c018"> 1070</a></span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a5f9424bfa72230f6de076797e8a9c018">createDepthStencilImageAndViews</a>(<span class="keyword">const</span> pvrvk::Device&amp; device, int32_t imageCount, pvrvk::Format depthFormat, <span class="keyword">const</span> pvrvk::Extent2D&amp; imageExtent,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; imageUsageFlags = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        pvrvk::SampleCountFlags sampleCount = pvrvk::SampleCountFlags::e_1_BIT, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> dsImageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> dsImageAllocationCreateFlags = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;{</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    std::vector&lt;pvrvk::ImageView&gt; depthStencilImages(imageCount);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    createAttachmentImages(depthStencilImages, device, imageCount, depthFormat, imageExtent, imageUsageFlags, sampleCount, dsImageAllocator, dsImageAllocationCreateFlags,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="stringliteral">&quot;PVRUtilsVk::DepthStencil &quot;</span>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">return</span> depthStencilImages;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;pvrvk::RenderPass <a class="code" href="namespacepvr_1_1utils.html#a0324a015a6d6d4df8b7caa525416ff89">createOnScreenRenderPass</a>(<span class="keyword">const</span> pvrvk::Swapchain&amp; swapchain, <span class="keywordtype">bool</span> hasDepthStencil, <span class="keyword">const</span> pvrvk::Format depthStencilFormat = pvrvk::Format::e_UNDEFINED,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    pvrvk::ImageLayout initialSwapchainLayout = pvrvk::ImageLayout::e_UNDEFINED, pvrvk::ImageLayout initialDepthStencilLayout = pvrvk::ImageLayout::e_UNDEFINED,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    pvrvk::AttachmentLoadOp colorLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp colorStoreOp = pvrvk::AttachmentStoreOp::e_STORE,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    pvrvk::AttachmentLoadOp depthStencilLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp depthStencilStoreOp = pvrvk::AttachmentStoreOp::e_DONT_CARE,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    pvrvk::SampleCountFlags samples = pvrvk::SampleCountFlags::e_1_BIT);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="keyword">namespace </span>details {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> assignAttachmentIndexes(<span class="keywordtype">bool</span> hasDepth, <span class="keywordtype">bool</span> isMultisampled, <span class="keywordtype">int</span>&amp; outColorIdx, <span class="keywordtype">int</span>&amp; outDepthIdx, <span class="keywordtype">int</span>&amp; outColorResolveIdx, <span class="keywordtype">int</span>&amp; outDepthResolveIdx)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;{</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    outColorIdx = 0;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    outDepthIdx = hasDepth ? 1 : -1; <span class="comment">// Either 1, or unused</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    outColorResolveIdx = isMultisampled ? hasDepth ? 2 : 1 : -1; <span class="comment">// 1 or 2, or unused</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    outDepthResolveIdx = (isMultisampled &amp;&amp; hasDepth) ? 3 : -1; <span class="comment">// Either 3, or unused</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;} <span class="comment">// namespace details</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ContainerType&gt;</div>
<div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#aaba79655d85e1b12e2fa33fe431533cb"> 1134</a></span>&#160;<span class="keyword">inline</span> ContainerType <a class="code" href="namespacepvr_1_1utils.html#aaba79655d85e1b12e2fa33fe431533cb">createOnscreenFramebuffers</a>(<span class="keyword">const</span> pvrvk::Swapchain&amp; swapchain, <span class="keyword">const</span> pvrvk::RenderPass&amp; renderPass, <span class="keyword">const</span> pvrvk::ImageView* depthStencilImages,</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    pvrvk::ImageView* colorMultisampledImages, pvrvk::ImageView* depthStencilMultisampledImages)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    ContainerType framebuffers;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    framebuffers.resize(swapchain-&gt;getSwapchainLength());</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordtype">bool</span> multisample = (renderPass-&gt;getCreateInfo().getSubpass(0).getNumResolveAttachmentReference() &gt; 0);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (multisample &amp;&amp; !colorMultisampledImages)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    { <span class="keywordflow">throw</span> InvalidArgumentError(<span class="stringliteral">&quot;colorResolveImages&quot;</span>, <span class="stringliteral">&quot;pvr::utils::createOnScreenFramebuffers: On a multisampled swapchain, color resolve images cannot be null be provided&quot;</span>); }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">if</span> (!multisample &amp;&amp; colorMultisampledImages)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    { <span class="keywordflow">throw</span> InvalidArgumentError(<span class="stringliteral">&quot;colorResolveImages&quot;</span>, <span class="stringliteral">&quot;pvr::utils::createOnScreenFramebuffers: On a non-multisampled swapchain, color resolve images must be null&quot;</span>); }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">if</span> (multisample &amp;&amp; depthStencilImages &amp;&amp; !depthStencilMultisampledImages)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordflow">throw</span> InvalidArgumentError(<span class="stringliteral">&quot;depthStencilResolveImages&quot;</span>,</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="stringliteral">&quot;pvr::utils::createOnScreenFramebuffers: On a multisampled swapchain with a depth buffer, depth resolve images must be provided and cannot be null&quot;</span>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (!multisample &amp;&amp; depthStencilImages &amp;&amp; depthStencilMultisampledImages)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">throw</span> InvalidArgumentError(</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <span class="stringliteral">&quot;depthStencilResolveImages&quot;</span>, <span class="stringliteral">&quot;pvr::utils::createOnScreenFramebuffers: On a non-multisampled swapchain with a depth buffer, depth resolve images must be null&quot;</span>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">if</span> (depthStencilMultisampledImages &amp;&amp; !depthStencilImages)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">throw</span> InvalidArgumentError(</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <span class="stringliteral">&quot;depthStencilResolveImages&quot;</span>, <span class="stringliteral">&quot;pvr::utils::createOnScreenFramebuffers: Cannot provide depth resolve images without the corresponding depth images must be null&quot;</span>);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordtype">int</span> colorIdx, depthIdx, colorResolveIdx, depthResolveIdx;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    details::assignAttachmentIndexes(depthStencilImages != 0, colorMultisampledImages != 0, colorIdx, depthIdx, colorResolveIdx, depthResolveIdx);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; swapchain-&gt;getSwapchainLength(); ++i)</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        pvrvk::FramebufferCreateInfo framebufferInfo;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        framebufferInfo.setDimensions(swapchain-&gt;getDimension());</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">if</span> (multisample)</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            framebufferInfo.setAttachment(colorResolveIdx, swapchain-&gt;getImageView(i));</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            framebufferInfo.setAttachment(colorIdx, colorMultisampledImages[i]);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            <span class="keywordflow">if</span> (depthStencilImages)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                framebufferInfo.setAttachment(depthIdx, depthStencilMultisampledImages[i]);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                framebufferInfo.setAttachment(depthResolveIdx, depthStencilImages[i]);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            framebufferInfo.setAttachment(colorIdx, swapchain-&gt;getImageView(i));</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <span class="keywordflow">if</span> (depthStencilImages) { framebufferInfo.setAttachment(depthIdx, depthStencilImages[i]); }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        framebufferInfo.setRenderPass(renderPass);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        framebuffers[i] = swapchain-&gt;getDevice()-&gt;createFramebuffer(framebufferInfo);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        framebuffers[i]-&gt;setObjectName(std::string(<span class="stringliteral">&quot;PVRUtilsVk::OnScreenFrameBuffer [&quot;</span>) + std::to_string(i) + std::string(<span class="stringliteral">&quot;]&quot;</span>));</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">return</span> framebuffers;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;}</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;[[deprecated(<span class="stringliteral">&quot;This function is deprecated in v5.5 and will be removed. It is superseded by &quot;</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;             <span class="stringliteral">&quot;createSwapchainFramebufferRenderpass, which supports multisampling correctly and has an improved interface.&quot;</span>)]] <span class="keyword">inline</span> pvrvk::RenderPass</div>
<div class="line"><a name="l01207"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ada646be2dd95421863b51714591825cf"> 1207</a></span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#ada646be2dd95421863b51714591825cf">createOnscreenFramebufferAndRenderPass</a>(<span class="keyword">const</span> pvrvk::Swapchain&amp; swapchain, pvrvk::ImageView* depthStencilImages, <a class="code" href="classpvr_1_1_multi.html">Multi&lt;pvrvk::Framebuffer&gt;</a>&amp; outFramebuffers,</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        pvrvk::ImageLayout initialSwapchainLayout = pvrvk::ImageLayout::e_UNDEFINED, pvrvk::ImageLayout initialDepthStencilLayout = pvrvk::ImageLayout::e_UNDEFINED,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        pvrvk::AttachmentLoadOp colorLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp colorStoreOp = pvrvk::AttachmentStoreOp::e_STORE,</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        pvrvk::AttachmentLoadOp depthStencilLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp depthStencilStoreOp = pvrvk::AttachmentStoreOp::e_DONT_CARE)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;{</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    pvrvk::RenderPass outRenderPass =</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="namespacepvr_1_1utils.html#a0324a015a6d6d4df8b7caa525416ff89">createOnScreenRenderPass</a>(swapchain, depthStencilImages != <span class="keyword">nullptr</span>, depthStencilImages ? depthStencilImages[0]-&gt;getFormat() : pvrvk::Format::e_UNDEFINED,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            initialSwapchainLayout, initialDepthStencilLayout, colorLoadOp, colorStoreOp, depthStencilLoadOp, depthStencilStoreOp);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keyword">auto</span> fbos = createOnscreenFramebuffers&lt;Multi&lt;pvrvk::Framebuffer&gt;&gt;(swapchain, outRenderPass, depthStencilImages, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    std::swap(outFramebuffers, fbos);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">return</span> outRenderPass;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a1e9a18d03439c5efe7d88dbb3c16b783"> 1223</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a1e9a18d03439c5efe7d88dbb3c16b783">populateViewportStateCreateInfo</a>(<span class="keyword">const</span> pvrvk::Framebuffer&amp; framebuffer, pvrvk::PipelineViewportStateCreateInfo&amp; outCreateInfo)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;{</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    outCreateInfo.setViewportAndScissor(0,</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        pvrvk::Viewport(0.f, 0.f, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(framebuffer-&gt;getDimensions().getWidth()), <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(framebuffer-&gt;getDimensions().getHeight())),</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        pvrvk::Rect2D(pvrvk::Offset2D(0, 0), pvrvk::Extent2D(framebuffer-&gt;getDimensions().getWidth(), framebuffer-&gt;getDimensions().getHeight())));</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="keyword">struct </span>VertexBindings</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;{</div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings.html#a74f6b69852fdb3031ef27bdffa5e2c99"> 1238</a></span>&#160;    std::string <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html#a74f6b69852fdb3031ef27bdffa5e2c99">semanticName</a>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings.html#a0179ccaad4acf5af997d6f1032b13404"> 1241</a></span>&#160;    int16_t <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html#a0179ccaad4acf5af997d6f1032b13404">location</a>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;};</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings___name.html"> 1245</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html">VertexBindings_Name</a></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div>
<div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#a20e78764d5aab84abdc052ea3e43a965"> 1248</a></span>&#160;    StringHash <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#a20e78764d5aab84abdc052ea3e43a965">semantic</a>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#af8dc9152ecaae65489a154363a672747"> 1251</a></span>&#160;    StringHash <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#af8dc9152ecaae65489a154363a672747">variableName</a>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;};</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43"> 1261</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">populateInputAssemblyFromMesh</a>(<span class="keyword">const</span> assets::Mesh&amp; mesh, <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html">VertexBindings</a>* bindingMap, uint16_t numBindings,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    pvrvk::PipelineVertexInputStateCreateInfo&amp; vertexCreateInfo, pvrvk::PipelineInputAssemblerStateCreateInfo&amp; inputAssemblerCreateInfo, uint16_t* numOutBuffers = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    vertexCreateInfo.clear();</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">if</span> (numOutBuffers) { *numOutBuffers = 0; }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    uint16_t current = 0;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">while</span> (current &lt; numBindings)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keyword">auto</span> attr = mesh.getVertexAttributeByName(bindingMap[current].semanticName.c_str());</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">if</span> (attr)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            VertexAttributeLayout layout = attr-&gt;getVertexLayout();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            uint32_t stride = mesh.getStride(attr-&gt;getDataIndex());</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            <span class="keywordflow">if</span> (numOutBuffers) { *numOutBuffers = std::max(<span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(attr-&gt;getDataIndex() + 1u), *numOutBuffers); }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputAttributeDescription attribDesc(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(bindingMap[current].location), attr-&gt;getDataIndex(),</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#a116badc6ed0a108f3cc8ea515283a458">convertToPVRVkVertexInputFormat</a>(layout.dataType, layout.width), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(layout.offset));</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputBindingDescription bindingDesc(attr-&gt;getDataIndex(), stride, pvrvk::VertexInputRate::e_VERTEX);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            vertexCreateInfo.addInputAttribute(attribDesc).addInputBinding(bindingDesc);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            Log(<span class="stringliteral">&quot;Could not find Attribute with Semantic %s in the supplied mesh. Will render without binding it, erroneously.&quot;</span>, bindingMap[current].semanticName.c_str());</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        ++current;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    inputAssemblerCreateInfo.setPrimitiveTopology(<a class="code" href="namespacepvr_1_1utils.html#a6faa52cbc7bd9bc2ff02b680ca3c869d">convertToPVRVk</a>(mesh.getMeshInfo().primitiveType));</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a94c295af45dc688c117ebf5993e55373"> 1299</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">populateInputAssemblyFromMesh</a>(<span class="keyword">const</span> assets::Mesh&amp; mesh, <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html">VertexBindings_Name</a>* bindingMap, uint32_t numBindings,</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    pvrvk::PipelineVertexInputStateCreateInfo&amp; vertexCreateInfo, pvrvk::PipelineInputAssemblerStateCreateInfo&amp; inputAssemblerCreateInfo, uint32_t* numOutBuffers = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;{</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    vertexCreateInfo.clear();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">if</span> (numOutBuffers) { *numOutBuffers = 0; }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    uint32_t current = 0;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">// In this scenario, we will be using our own indexes instead of user provided ones, correlating them by names.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    vertexCreateInfo.clear();</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">while</span> (current &lt; numBindings)</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keyword">auto</span> attr = mesh.getVertexAttributeByName(bindingMap[current].semantic);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">if</span> (attr)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            VertexAttributeLayout layout = attr-&gt;getVertexLayout();</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            uint32_t stride = mesh.getStride(attr-&gt;getDataIndex());</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="keywordflow">if</span> (numOutBuffers) { *numOutBuffers = std::max&lt;uint32_t&gt;(attr-&gt;getDataIndex() + 1u, *numOutBuffers); }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputAttributeDescription attribDesc(current, attr-&gt;getDataIndex(), <a class="code" href="namespacepvr_1_1utils.html#a116badc6ed0a108f3cc8ea515283a458">convertToPVRVkVertexInputFormat</a>(layout.dataType, layout.width), layout.offset);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputBindingDescription bindingDesc(attr-&gt;getDataIndex(), stride, pvrvk::VertexInputRate::e_VERTEX);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            vertexCreateInfo.addInputAttribute(attribDesc).addInputBinding(bindingDesc);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            inputAssemblerCreateInfo.setPrimitiveTopology(<a class="code" href="namespacepvr_1_1utils.html#a6faa52cbc7bd9bc2ff02b680ca3c869d">convertToPVRVk</a>(mesh.getMeshInfo().primitiveType));</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            Log(<span class="stringliteral">&quot;Could not find Attribute with Semantic %s in the supplied mesh. Will render without binding it, erroneously.&quot;</span>, bindingMap[current].semantic.c_str());</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        ++current;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;}</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#aeecb636ae6f2c37e90259571ba245f3b"> 1344</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#aeecb636ae6f2c37e90259571ba245f3b">createSingleBuffersFromMesh</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Mesh&amp; mesh, pvrvk::Buffer&amp; outVbo, pvrvk::Buffer&amp; outIbo, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> bufferAllocator = <span class="keyword">nullptr</span>, <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;{</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    requiresCommandBufferSubmission = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordtype">size_t</span> total = 0;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; mesh.getNumDataElements(); ++i) { total += mesh.getDataSize(i); }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    pvrvk::MemoryPropertyFlags vboRequiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    pvrvk::MemoryPropertyFlags vboOptimalMemoryFlags = vboRequiredMemoryFlags;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    outVbo = <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(device, pvrvk::BufferCreateInfo(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(total), pvrvk::BufferUsageFlags::e_VERTEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT),</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        vboRequiredMemoryFlags, vboOptimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordtype">bool</span> isVboHostVisible = (outVbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">if</span> (!isVboHostVisible) { requiresCommandBufferSubmission = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordtype">size_t</span> current = 0;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; mesh.getNumDataElements(); ++i)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">if</span> (isVboHostVisible)</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        { <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outVbo, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getData(i)), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(current), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), <span class="keyword">true</span>); }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(device, outVbo, pvrvk::CommandBufferBase(uploadCmdBuffer), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getData(i)), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(current),</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), bufferAllocator);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        current += mesh.getDataSize(i);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (mesh.getNumFaces())</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        pvrvk::MemoryPropertyFlags iboRequiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        pvrvk::MemoryPropertyFlags iboOptimalMemoryFlags = iboRequiredMemoryFlags;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        outIbo = <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(device,</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            pvrvk::BufferCreateInfo(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getFaces().getDataSize()), pvrvk::BufferUsageFlags::e_INDEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT),</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            iboRequiredMemoryFlags, iboOptimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordtype">bool</span> isIboHostVisible = (outIbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">if</span> (!isIboHostVisible) { requiresCommandBufferSubmission = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="keywordflow">if</span> (isIboHostVisible)</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        { <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outIbo, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getFaces().getData()), 0, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getFaces().getDataSize()), <span class="keyword">true</span>); }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(device, outIbo, pvrvk::CommandBufferBase(uploadCmdBuffer), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getFaces().getData()), 0,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getFaces().getDataSize()), bufferAllocator);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        outIbo.reset();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;}</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a0791bbf3f9ee51623e57639997a3238c"> 1413</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a0791bbf3f9ee51623e57639997a3238c">createMultipleBuffersFromMesh</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Mesh&amp; mesh, std::vector&lt;pvrvk::Buffer&gt;&amp; outVbos, pvrvk::Buffer&amp; outIbo,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    pvrvk::CommandBuffer&amp; uploadCmdBuffer, <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> bufferAllocator,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    requiresCommandBufferSubmission = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; mesh.getNumDataElements(); ++i)</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        outVbos.emplace_back(<a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(device,</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            pvrvk::BufferCreateInfo(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), pvrvk::BufferUsageFlags::e_VERTEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT),</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            requiredMemoryFlags, optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags));</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordtype">bool</span> isBufferHostVisible = (outVbos.back()-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">if</span> (!isBufferHostVisible) { requiresCommandBufferSubmission = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">if</span> (isBufferHostVisible) { <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outVbos.back(), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getData(i)), 0, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), <span class="keyword">true</span>); }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(device, outVbos.back(), pvrvk::CommandBufferBase(uploadCmdBuffer), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getData(i)), 0,</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), bufferAllocator);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordflow">if</span> (mesh.getNumFaces())</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        outIbo = <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(device,</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            pvrvk::BufferCreateInfo(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getFaces().getDataSize()), pvrvk::BufferUsageFlags::e_INDEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT),</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            requiredMemoryFlags, optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordtype">bool</span> isBufferHostVisible = (outIbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">if</span> (!isBufferHostVisible) { requiresCommandBufferSubmission = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        { <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outIbo, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getFaces().getData()), 0, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getFaces().getDataSize()), <span class="keyword">true</span>); }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(device, outIbo, pvrvk::CommandBufferBase(uploadCmdBuffer), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getFaces().getData()), 0,</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getFaces().getDataSize()), bufferAllocator);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;}</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> MeshIterator_, <span class="keyword">typename</span> VboInsertIterator_, <span class="keyword">typename</span> IboInsertIterator_&gt;</div>
<div class="line"><a name="l01478"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe"> 1478</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe">createSingleBuffersFromMeshes</a>(pvrvk::Device&amp; device, MeshIterator_ meshIter, MeshIterator_ meshIterEnd, VboInsertIterator_ outVbos, IboInsertIterator_ outIbos,</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    pvrvk::CommandBuffer&amp; uploadCmdBuffer, <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> bufferAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;{</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">pvr::utils::beginCommandBufferDebugLabel</a>(uploadCmdBuffer, pvrvk::DebugUtilsLabel(<span class="stringliteral">&quot;PVRUtilsVk::createSingleBuffersFromMeshes&quot;</span>));</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    requiresCommandBufferSubmission = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">while</span> (meshIter != meshIterEnd)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordtype">size_t</span> total = 0;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">for</span> (uint32_t ii = 0; ii &lt; meshIter-&gt;getNumDataElements(); ++ii) { total += meshIter-&gt;getDataSize(ii); }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        pvrvk::Buffer vbo;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        pvrvk::MemoryPropertyFlags vboRequiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        pvrvk::MemoryPropertyFlags vboOptimalMemoryFlags = vboRequiredMemoryFlags;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        vbo = <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(device, pvrvk::BufferCreateInfo(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(total), pvrvk::BufferUsageFlags::e_VERTEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT),</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            vboRequiredMemoryFlags, vboOptimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordtype">bool</span> isVboHostVisible = (vbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="keywordflow">if</span> (!isVboHostVisible) { requiresCommandBufferSubmission = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="keywordtype">size_t</span> current = 0;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> ii = 0; ii &lt; meshIter-&gt;getNumDataElements(); ++ii)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="keywordflow">if</span> (isVboHostVisible)</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(vbo, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)meshIter-&gt;getData(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ii)), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(current),</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                    <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(meshIter-&gt;getDataSize(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ii))), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(device, vbo, pvrvk::CommandBufferBase(uploadCmdBuffer), (<span class="keyword">const</span> <span class="keywordtype">void</span>*)meshIter-&gt;getData(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ii)),</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                    <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(current), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(meshIter-&gt;getDataSize(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ii))), bufferAllocator);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            current += meshIter-&gt;getDataSize(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ii));</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        }</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        outVbos = vbo;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">if</span> (meshIter-&gt;getNumFaces())</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            pvrvk::Buffer ibo;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            pvrvk::MemoryPropertyFlags iboRequiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            pvrvk::MemoryPropertyFlags iboOptimalMemoryFlags = iboRequiredMemoryFlags;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            ibo = <a class="code" href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">createBuffer</a>(device,</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                pvrvk::BufferCreateInfo(</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                    <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(meshIter-&gt;getFaces().getDataSize()), pvrvk::BufferUsageFlags::e_INDEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT),</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                iboRequiredMemoryFlags, iboOptimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordtype">bool</span> isIboHostVisible = (ibo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            <span class="keywordflow">if</span> (!isIboHostVisible) { requiresCommandBufferSubmission = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">if</span> (isIboHostVisible) { <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(ibo, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(meshIter-&gt;getFaces().getData()), 0, meshIter-&gt;getFaces().getDataSize(), <span class="keyword">true</span>); }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">updateBufferUsingStagingBuffer</a>(device, ibo, pvrvk::CommandBufferBase(uploadCmdBuffer), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(meshIter-&gt;getFaces().getData()), 0,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                    meshIter-&gt;getFaces().getDataSize(), bufferAllocator);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            outIbos = ibo;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            outIbos = pvrvk::Buffer();</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        ++outVbos;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        ++outIbos;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        ++meshIter;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">pvr::utils::endCommandBufferDebugLabel</a>(uploadCmdBuffer);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;}</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> MeshIterator_, <span class="keyword">typename</span> VboContainer_, <span class="keyword">typename</span> IboContainer_&gt;</div>
<div class="line"><a name="l01572"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a8b47e0a1077b70398aad03b73ea46f6c"> 1572</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe">createSingleBuffersFromMeshes</a>(pvrvk::Device&amp; device, MeshIterator_ meshIter, MeshIterator_ meshIterEnd, VboContainer_&amp; outVbos,</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keyword">typename</span> VboContainer_::iterator vbos_where, IboContainer_&amp; outIbos, <span class="keyword">typename</span> IboContainer_::iterator ibos_where, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> bufferAllocator = <span class="keyword">nullptr</span>, <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;{</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe">createSingleBuffersFromMeshes</a>(device, meshIter, meshIterEnd, std::inserter(outVbos, vbos_where), std::inserter(outIbos, ibos_where), uploadCmdBuffer,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        requiresCommandBufferSubmission, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;}</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> VboInsertIterator_, <span class="keyword">typename</span> IboInsertIterator_&gt;</div>
<div class="line"><a name="l01596"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a7710bb6fdcb3e45a8787cb4cc3f64e6c"> 1596</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a7710bb6fdcb3e45a8787cb4cc3f64e6c">createSingleBuffersFromModel</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Model&amp; model, VboInsertIterator_ vbos, IboInsertIterator_ ibos, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> bufferAllocator = <span class="keyword">nullptr</span>, <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;{</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe">createSingleBuffersFromMeshes</a>(device, model.beginMeshes(), model.endMeshes(), vbos, ibos, uploadCmdBuffer, requiresCommandBufferSubmission, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> VboContainer_, <span class="keyword">typename</span> IboContainer_&gt;</div>
<div class="line"><a name="l01617"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a100ef068316423d649e18a3a2168aacb"> 1617</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a100ef068316423d649e18a3a2168aacb">appendSingleBuffersFromModel</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Model&amp; model, VboContainer_&amp; vbos, IboContainer_&amp; ibos, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, <a class="code" href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">vma::Allocator</a> bufferAllocator = <span class="keyword">nullptr</span>, <a class="code" href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">vma::AllocationCreateFlags</a> vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;{</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe">createSingleBuffersFromMeshes</a>(device, model.beginMeshes(), model.endMeshes(), std::inserter(vbos, vbos.end()), std::inserter(ibos, ibos.end()), uploadCmdBuffer,</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        requiresCommandBufferSubmission, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ad0c9ce4267ec635305fc87aba0b9d9c2">create3dPlaneMesh</a>(uint32_t width, uint32_t depth, <span class="keywordtype">bool</span> generateTexCoords, <span class="keywordtype">bool</span> generateNormalCoords, assets::Mesh&amp; outMesh);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="preprocessor">#pragma region </span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="preprocessor">std::vector&lt;unsigned char&gt; captureImageRegion(pvrvk::Queue&amp; queue, pvrvk::CommandPool&amp; commandPool, pvrvk::Image&amp; image, pvrvk::Offset3D srcOffset = pvrvk::Offset3D(0, 0, 0),</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    pvrvk::Extent3D srcExtent = pvrvk::Extent3D(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(-1), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(-1), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(-1)),</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    pvrvk::Format destinationImageFormat = pvrvk::Format::e_UNDEFINED, pvrvk::ImageLayout imageInitialLayout = pvrvk::ImageLayout::e_TRANSFER_SRC_OPTIMAL,</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    pvrvk::ImageLayout imageFinalLayout = pvrvk::ImageLayout::e_TRANSFER_DST_OPTIMAL, vma::Allocator bufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#aee378b23390266dcaa61b724e0a29808">saveImage</a>(pvrvk::Queue&amp; queue, pvrvk::CommandPool&amp; commandPool, <a class="code" href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvrvk::Image</a>&amp; image, <span class="keyword">const</span> pvrvk::ImageLayout imageInitialLayout, <span class="keyword">const</span> pvrvk::ImageLayout imageFinalLayout,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keyword">const</span> std::string&amp; filename, vma::Allocator bufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>, <span class="keyword">const</span> uint32_t screenshotScale = 1);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacepvr_1_1utils.html#a0dc7d04620963f299874921f6fd18fb8">takeScreenshot</a>(pvrvk::Queue&amp; queue, pvrvk::CommandPool&amp; commandPool, pvrvk::Swapchain&amp; swapchain, <span class="keyword">const</span> uint32_t swapIndex, <span class="keyword">const</span> std::string&amp; screenshotFileName,</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    vma::Allocator bufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator imageAllocator = <span class="keyword">nullptr</span>, <span class="keyword">const</span> uint32_t screenshotScale = 1);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="preprocessor">#pragma endregion</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;} <span class="comment">// namespace utils</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;} <span class="comment">// namespace pvr</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a63830a23335c0e841e02b4f02f0363f7"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">pvr::utils::ImageUpdateInfo::imageHeight</a></div><div class="ttdeci">uint32_t imageHeight</div><div class="ttdoc">Valid for 2D, 3D and Cube texture updates.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:573</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aee21903727c73558ad8e3cf936917344"><div class="ttname"><a href="namespacepvr_1_1utils.html#aee21903727c73558ad8e3cf936917344">pvr::utils::mapDebugReportFlagsToLogLevel</a></div><div class="ttdeci">LogLevel mapDebugReportFlagsToLogLevel(pvrvk::DebugReportFlagsEXT flags)</div><div class="ttdoc">Maps a set of DebugReportFlagsEXT to a particular type of log message.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:297</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_populate_info_html_a8d5ad873b0ae0c6c8c82511c5e7a72aa"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#a8d5ad873b0ae0c6c8c82511c5e7a72aa">pvr::utils::QueuePopulateInfo::QueuePopulateInfo</a></div><div class="ttdeci">QueuePopulateInfo(pvrvk::QueueFlags queueFlags, pvrvk::Surface &amp;surface, float priority=1.0f)</div><div class="ttdoc">Constructor for a QueuePopulateInfo requiring that a set of queue flags and a surface are provided.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:774</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_instance_extensions_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_extensions.html">pvr::utils::InstanceExtensions</a></div><div class="ttdoc">Container for a list of instance extensions to be used for initiailising an instance using the helper...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:728</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a1b452f639a4e507f7d3bdfaf529da029"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">pvr::utils::ImageUpdateInfo::mipLevel</a></div><div class="ttdeci">uint32_t mipLevel</div><div class="ttdoc">Valid for all.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:567</div></div>
<div class="ttc" id="a_memory_allocator_8h_html"><div class="ttname"><a href="_memory_allocator_8h.html">MemoryAllocator.h</a></div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a3c7a82ad08f5f77c574a75fc1c4eca9a"><div class="ttname"><a href="namespacepvr_1_1utils.html#a3c7a82ad08f5f77c574a75fc1c4eca9a">pvr::utils::createDebugUtilsCallbacks</a></div><div class="ttdeci">DebugUtilsCallbacks createDebugUtilsCallbacks(pvrvk::Instance &amp;instance)</div><div class="ttdoc">Creates a default set of debug utils messengers or debug callbacks using either VK_EXT_debug_utils or...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_debug_utils_callbacks_html_aeb1f89203f5e3397200ff8b491810dea"><div class="ttname"><a href="structpvr_1_1utils_1_1_debug_utils_callbacks.html#aeb1f89203f5e3397200ff8b491810dea">pvr::utils::DebugUtilsCallbacks::debugUtilsMessengers</a></div><div class="ttdeci">pvrvk::DebugUtilsMessenger debugUtilsMessengers[2]</div><div class="ttdoc">A set of debug utils messengers which may be used when VK_EXT_debug_utils is supported and enabled vi...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:117</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a076fe31eafd575f7f2a10f27f6130935"><div class="ttname"><a href="namespacepvr_1_1utils.html#a076fe31eafd575f7f2a10f27f6130935">pvr::utils::setImageLayout</a></div><div class="ttdeci">void setImageLayout(pvrvk::Image &amp;image, pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, pvrvk::CommandBufferBase transitionCmdBuffer)</div><div class="ttdoc">Set image layout</div><div class="ttdef"><b>Definition:</b> HelperVk.h:372</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html">pvr::utils::OnScreenObjects</a></div><div class="ttdoc">Packaging for Swapchain, on screen Framebuffers, Renderpass, Attachments. Returned by createSwapchain...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1000</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_aedece401264d913e0d2bbd69f31f7104"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#aedece401264d913e0d2bbd69f31f7104">pvr::utils::CreateSwapchainParameters::colorLoadOp</a></div><div class="ttdeci">pvrvk::AttachmentLoadOp colorLoadOp</div><div class="ttdoc">Color image load op. Usually default (clear) is best for performance as it allows to skip loading fro...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:898</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a34226196d1cd435e8f19abecc2d3b0eb"><div class="ttname"><a href="namespacepvr_1_1utils.html#a34226196d1cd435e8f19abecc2d3b0eb">pvr::utils::createDeviceAndQueues</a></div><div class="ttdeci">pvrvk::Device createDeviceAndQueues(pvrvk::PhysicalDevice physicalDevice, const QueuePopulateInfo *queueCreateInfos, uint32_t numQueueCreateInfos, QueueAccessInfo *outAccessInfo, const DeviceExtensions &amp;deviceExtensions=DeviceExtensions())</div><div class="ttdoc">Create the pvrvk::Device and the queues</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a8d9cfeb4d88791e650d994402d00511c"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">pvr::utils::ImageUpdateInfo::dataWidth</a></div><div class="ttdeci">uint32_t dataWidth</div><div class="ttdoc">Valid for all.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:565</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_debug_utils_callbacks_html_a9e94e7d45269071a64d86419c18df205"><div class="ttname"><a href="structpvr_1_1utils_1_1_debug_utils_callbacks.html#a9e94e7d45269071a64d86419c18df205">pvr::utils::DebugUtilsCallbacks::debugCallbacks</a></div><div class="ttdeci">pvrvk::DebugReportCallback debugCallbacks[2]</div><div class="ttdoc">A set of debug report callbacks which may be used when VK_EXT_debug_report is supported and enabled v...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:119</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a5f9424bfa72230f6de076797e8a9c018"><div class="ttname"><a href="namespacepvr_1_1utils.html#a5f9424bfa72230f6de076797e8a9c018">pvr::utils::createDepthStencilImageAndViews</a></div><div class="ttdeci">std::vector&lt; pvrvk::ImageView &gt; createDepthStencilImageAndViews(const pvrvk::Device &amp;device, int32_t imageCount, pvrvk::Format depthFormat, const pvrvk::Extent2D &amp;imageExtent, const pvrvk::ImageUsageFlags &amp;imageUsageFlags=pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT|pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT, pvrvk::SampleCountFlags sampleCount=pvrvk::SampleCountFlags::e_1_BIT, vma::Allocator dsImageAllocator=nullptr, vma::AllocationCreateFlags dsImageAllocationCreateFlags=vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT)</div><div class="ttdoc">DEPRECATED. Use createAttachmentImages instead</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1070</div></div>
<div class="ttc" id="a_convert_to_p_v_r_vk_types_8h_html"><div class="ttname"><a href="_convert_to_p_v_r_vk_types_8h.html">ConvertToPVRVkTypes.h</a></div><div class="ttdoc">Contains conversions of pvr Enumerations to Vulkan types.</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a98e4ac9990af6eaf6b9bf0928f2bd07d"><div class="ttname"><a href="namespacepvr_1_1utils.html#a98e4ac9990af6eaf6b9bf0928f2bd07d">pvr::utils::populateClearValues</a></div><div class="ttdeci">void populateClearValues(const pvrvk::RenderPass &amp;renderpass, const pvrvk::ClearValue &amp;clearColor, const pvrvk::ClearValue &amp;clearDepthStencilValue, pvrvk::ClearValue *outClearValues)</div><div class="ttdoc">Populate color and depthstencil clear values</div><div class="ttdef"><b>Definition:</b> HelperVk.h:59</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_populate_info_html_a8f6a04a2c21acef02ed848f4de285643"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">pvr::utils::QueuePopulateInfo::queueFlags</a></div><div class="ttdeci">pvrvk::QueueFlags queueFlags</div><div class="ttdoc">The queue flags the queue must support.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:757</div></div>
<div class="ttc" id="a_multi_object_8h_html"><div class="ttname"><a href="_multi_object_8h.html">MultiObject.h</a></div><div class="ttdoc">This file contains the Multi&lt;T&gt; class template, which is the usual container for objects that must be...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_access_info_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html">pvr::utils::QueueAccessInfo</a></div><div class="ttdoc">A structure encapsulating the family id and queue id of a particular queue retrieved via the helper f...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:779</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a7c3726d86dbda8ccaba9ed2c300b1fbe"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7c3726d86dbda8ccaba9ed2c300b1fbe">pvr::utils::createSingleBuffersFromMeshes</a></div><div class="ttdeci">void createSingleBuffersFromMeshes(pvrvk::Device &amp;device, MeshIterator_ meshIter, MeshIterator_ meshIterEnd, VboInsertIterator_ outVbos, IboInsertIterator_ outIbos, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a set of IBOs from the vertex data of multiple meshes and uses std::...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1478</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_instance_extensions_html_a3578abfc0e4e90921df30baa73dd2194"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_extensions.html#a3578abfc0e4e90921df30baa73dd2194">pvr::utils::InstanceExtensions::InstanceExtensions</a></div><div class="ttdeci">InstanceExtensions()</div><div class="ttdoc">Default constructor. Initialises a list of instance extensions to be used by default when using the F...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a116badc6ed0a108f3cc8ea515283a458"><div class="ttname"><a href="namespacepvr_1_1utils.html#a116badc6ed0a108f3cc8ea515283a458">pvr::utils::convertToPVRVkVertexInputFormat</a></div><div class="ttdeci">pvrvk::Format convertToPVRVkVertexInputFormat(DataType dataType, uint8_t width)</div><div class="ttdoc">Convert to pvrvk format</div><div class="ttdef"><b>Definition:</b> ConvertToPVRVkTypes.h:111</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vulkan_version_html_ae034e617f8481394b0d37b6ddaa228fd"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">pvr::utils::VulkanVersion::majorV</a></div><div class="ttdeci">uint32_t majorV</div><div class="ttdoc">The major version number.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:696</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vertex_bindings___name_html_af8dc9152ecaae65489a154363a672747"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings___name.html#af8dc9152ecaae65489a154363a672747">pvr::utils::VertexBindings_Name::variableName</a></div><div class="ttdeci">StringHash variableName</div><div class="ttdoc">Shader attribute name.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1251</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a74171c9f0e1ea8f1eac9a991349389a6"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">pvr::utils::ImageUpdateInfo::cubeFace</a></div><div class="ttdeci">uint32_t cubeFace</div><div class="ttdoc">Valid for Cube texture updates only.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:577</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a618e4160bd8c24d9e0d394dc9511f4a3"><div class="ttname"><a href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">pvr::utils::updateHostVisibleBuffer</a></div><div class="ttdeci">void updateHostVisibleBuffer(pvrvk::Buffer &amp;buffer, const void *data, VkDeviceSize offset=0, VkDeviceSize size=VK_WHOLE_SIZE, bool flushMemory=false)</div><div class="ttdoc">Utility function to update a buffer's data. This function maps and unmap the buffer only if the buffe...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:613</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a3530d448cda15aea32f3395ca427957b"><div class="ttname"><a href="namespacepvr_1_1utils.html#a3530d448cda15aea32f3395ca427957b">pvr::utils::createSurface</a></div><div class="ttdeci">pvrvk::Surface createSurface(const pvrvk::Instance &amp;instance, const pvrvk::PhysicalDevice &amp;physicalDevice, void *window, void *display, void *connection)</div><div class="ttdoc">Creates an abstract vulkan native platform surface.</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a9c2480ee85781549db081da54c7cbf7b"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">pvr::utils::ImageUpdateInfo::offsetX</a></div><div class="ttdeci">int32_t offsetX</div><div class="ttdoc">Valid for all.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:563</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aee378b23390266dcaa61b724e0a29808"><div class="ttname"><a href="namespacepvr_1_1utils.html#aee378b23390266dcaa61b724e0a29808">pvr::utils::saveImage</a></div><div class="ttdeci">void saveImage(pvrvk::Queue &amp;queue, pvrvk::CommandPool &amp;commandPool, pvrvk::Image &amp;image, const pvrvk::ImageLayout imageInitialLayout, const pvrvk::ImageLayout imageFinalLayout, const std::string &amp;filename, vma::Allocator bufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, const uint32_t screenshotScale=1)</div><div class="ttdoc">Saves the input image as a TGA file with the filename specified. Note that the image must have been c...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_ada646be2dd95421863b51714591825cf"><div class="ttname"><a href="namespacepvr_1_1utils.html#ada646be2dd95421863b51714591825cf">pvr::utils::createOnscreenFramebufferAndRenderPass</a></div><div class="ttdeci">pvrvk::RenderPass createOnscreenFramebufferAndRenderPass(const pvrvk::Swapchain &amp;swapchain, pvrvk::ImageView *depthStencilImages, Multi&lt; pvrvk::Framebuffer &gt; &amp;outFramebuffers, pvrvk::ImageLayout initialSwapchainLayout=pvrvk::ImageLayout::e_UNDEFINED, pvrvk::ImageLayout initialDepthStencilLayout=pvrvk::ImageLayout::e_UNDEFINED, pvrvk::AttachmentLoadOp colorLoadOp=pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp colorStoreOp=pvrvk::AttachmentStoreOp::e_STORE, pvrvk::AttachmentLoadOp depthStencilLoadOp=pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp depthStencilStoreOp=pvrvk::AttachmentStoreOp::e_DONT_CARE)</div><div class="ttdoc">DEPRECATED</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1207</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a4933d5feabd4336b9023ba4b7fcd50f5"><div class="ttname"><a href="namespacepvr_1_1utils.html#a4933d5feabd4336b9023ba4b7fcd50f5">pvr::utils::createBuffer</a></div><div class="ttdeci">pvrvk::Buffer createBuffer(const pvrvk::Device &amp;device, const pvrvk::BufferCreateInfo &amp;createInfo, pvrvk::MemoryPropertyFlags requiredMemoryFlags, pvrvk::MemoryPropertyFlags optimalMemoryFlags=pvrvk::MemoryPropertyFlags::e_NONE, const vma::Allocator &amp;bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT, pvrvk::MemoryAllocateFlags memoryAllocateFlags=pvrvk::MemoryAllocateFlags::e_NONE)</div><div class="ttdoc">Create a new buffer object and (optionally) allocate and bind memory for it</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a8b7a085321cdbf5ac6a528dbae40cb30"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a8b7a085321cdbf5ac6a528dbae40cb30">pvr::utils::CreateSwapchainParameters::initialDepthStencilLayout</a></div><div class="ttdeci">pvrvk::ImageLayout initialDepthStencilLayout</div><div class="ttdoc">Layout that the depth stencil images will be in on creation.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:896</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_instance_layers_html_a847198ad122769b11e33da68c05725cd"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_layers.html#a847198ad122769b11e33da68c05725cd">pvr::utils::InstanceLayers::InstanceLayers</a></div><div class="ttdeci">InstanceLayers(bool forceLayers=false)</div><div class="ttdoc">Default constructor. Initialises the list of instance layers based on whether the build is Debug/Rele...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vertex_bindings_html_a0179ccaad4acf5af997d6f1032b13404"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings.html#a0179ccaad4acf5af997d6f1032b13404">pvr::utils::VertexBindings::location</a></div><div class="ttdeci">int16_t location</div><div class="ttdoc">shader attribute location.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1241</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vertex_bindings_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings.html">pvr::utils::VertexBindings</a></div><div class="ttdoc">Represents a shader Explicit binding, tying a Semantic name to an Attribute Index.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1235</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a1cbbbd1665449ea70d772de63595c806"><div class="ttname"><a href="namespacepvr_1_1utils.html#a1cbbbd1665449ea70d772de63595c806">pvr::utils::logMessageDebugReportCallback</a></div><div class="ttdeci">VKAPI_ATTR VkBool32 VKAPI_CALL logMessageDebugReportCallback(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t object, size_t location, int32_t messageCode, const char *pLayerPrefix, const char *pMessage, void *pUserData)</div><div class="ttdoc">An application DebugReportCallback function providing logging for various events.</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a19f7af5558e7afc812edc1e8899d8f50"><div class="ttname"><a href="namespacepvr_1_1utils.html#a19f7af5558e7afc812edc1e8899d8f50">pvr::utils::setImageLayoutAndQueueFamilyOwnership</a></div><div class="ttdeci">void setImageLayoutAndQueueFamilyOwnership(pvrvk::CommandBufferBase srccmd, pvrvk::CommandBufferBase dstcmd, uint32_t srcQueueFamily, uint32_t dstQueueFamily, pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, pvrvk::Image &amp;image, uint32_t baseMipLevel, uint32_t numMipLevels, uint32_t baseArrayLayer, uint32_t numArrayLayers, pvrvk::ImageAspectFlags aspect)</div><div class="ttdoc">Set image layout and queue family ownership</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_populate_info_html_ad38c982d524591f2b715b130a8c9f697"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">pvr::utils::QueuePopulateInfo::priority</a></div><div class="ttdeci">float priority</div><div class="ttdoc">Specifies the priority which should be given to the retrieved queue.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:763</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a0f17c13485c6c9b79384060f679feb8f"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a0f17c13485c6c9b79384060f679feb8f">pvr::utils::CreateSwapchainParameters::colorImageUsageFlags</a></div><div class="ttdeci">pvrvk::ImageUsageFlags colorImageUsageFlags</div><div class="ttdoc">If multisampled, this is actually the &quot;resolve&quot; flags. Otherwise, these are the flags for the one and...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:881</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_populate_info_html_a5eeb3d84dac92d6718f2b6d7f03d653d"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#a5eeb3d84dac92d6718f2b6d7f03d653d">pvr::utils::QueuePopulateInfo::QueuePopulateInfo</a></div><div class="ttdeci">QueuePopulateInfo(pvrvk::QueueFlags queueFlags, float priority=1.0f)</div><div class="ttdoc">Constructor for a QueuePopulateInfo requiring that a set of queue flags is provided.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:768</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a7151c7b74ff657fc17ff09c0ab114a07"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7151c7b74ff657fc17ff09c0ab114a07">pvr::utils::isFormatDepthStencil</a></div><div class="ttdeci">bool isFormatDepthStencil(pvrvk::Format format)</div><div class="ttdoc">Return true if the format is a depth stencil format</div><div class="ttdef"><b>Definition:</b> HelperVk.h:36</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_abbd1f30f49a0d36c9d932437e902d2bb"><div class="ttname"><a href="namespacepvr_1_1utils.html#abbd1f30f49a0d36c9d932437e902d2bb">pvr::utils::mapDebugUtilsMessageSeverityFlagsToLogLevel</a></div><div class="ttdeci">LogLevel mapDebugUtilsMessageSeverityFlagsToLogLevel(pvrvk::DebugUtilsMessageSeverityFlagsEXT flags)</div><div class="ttdoc">Maps a set of DebugUtilsMessageSeverityFlagsEXT to a particular type of log message.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:285</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_access_info_html_a6d0e303c656d8312932d268db869596a"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">pvr::utils::QueueAccessInfo::familyId</a></div><div class="ttdeci">uint32_t familyId</div><div class="ttdoc">The queue family identifier the queue with queueId was retrieved from.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:782</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a0dc7d04620963f299874921f6fd18fb8"><div class="ttname"><a href="namespacepvr_1_1utils.html#a0dc7d04620963f299874921f6fd18fb8">pvr::utils::takeScreenshot</a></div><div class="ttdeci">bool takeScreenshot(pvrvk::Queue &amp;queue, pvrvk::CommandPool &amp;commandPool, pvrvk::Swapchain &amp;swapchain, const uint32_t swapIndex, const std::string &amp;screenshotFileName, vma::Allocator bufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, const uint32_t screenshotScale=1)</div><div class="ttdoc">Saves a particular swapchain image corresponding to the swapchain image at index swapIndex for the sw...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vulkan_version_html_a3e1b806e01b77ae8589182a3d55cb00d"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">pvr::utils::VulkanVersion::patchV</a></div><div class="ttdeci">uint32_t patchV</div><div class="ttdoc">The patch version number.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:700</div></div>
<div class="ttc" id="a_memory_allocator_8h_html_aad694c017b2fdbb822163769e1ebeb64"><div class="ttname"><a href="_memory_allocator_8h.html#aad694c017b2fdbb822163769e1ebeb64">pvr::utils::vma::Allocator</a></div><div class="ttdeci">std::shared_ptr&lt; impl::Allocator_ &gt; Allocator</div><div class="ttdoc">Forwared-declared reference-counted handle to a Allocator. For detailed documentation,...</div><div class="ttdef"><b>Definition:</b> MemoryAllocator.h:78</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a66c0abcd177d448a4b0a140321fa1427"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">pvr::utils::ImageUpdateInfo::data</a></div><div class="ttdeci">const void * data</div><div class="ttdoc">Valid for all.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:568</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aaf3d187bfb119271fea887f28268699a"><div class="ttname"><a href="namespacepvr_1_1utils.html#aaf3d187bfb119271fea887f28268699a">pvr::utils::throwOnErrorDebugUtilsMessengerCallback</a></div><div class="ttdeci">VKAPI_ATTR VkBool32 VKAPI_CALL throwOnErrorDebugUtilsMessengerCallback(VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity, VkDebugUtilsMessageTypeFlagsEXT messageTypes, const VkDebugUtilsMessengerCallbackDataEXT *pCallbackData, void *pUserData)</div><div class="ttdoc">An application DebugUtilsMessengerCallback function providing logging for various events....</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html_a3a0f31739dd381069c4eb8187f722191"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html#a3a0f31739dd381069c4eb8187f722191">pvr::utils::OnScreenObjects::swapchain</a></div><div class="ttdeci">pvrvk::Swapchain swapchain</div><div class="ttdoc">The swapchain object</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1007</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vulkan_version_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html">pvr::utils::VulkanVersion</a></div><div class="ttdoc">The VulkanVersion structure provides an easy mechanism for constructing the Vulkan version for use wh...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:693</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_access_info_html_ae5df4d78d8d64b5009b8c5a9e36c0e23"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">pvr::utils::QueueAccessInfo::queueId</a></div><div class="ttdeci">uint32_t queueId</div><div class="ttdoc">The queue identifier for the retrieved queue in queue family with identifier familyId.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:785</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_device_extensions_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_device_extensions.html">pvr::utils::DeviceExtensions</a></div><div class="ttdoc">Container for a list of device extensions to be used for initiailising a device using the helper func...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:735</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html">pvr::utils::CreateSwapchainParameters</a></div><div class="ttdoc">Parameter object for the createSwapchainRenderpassFramebuffers call. Defaults are sensible and immedi...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:877</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a5e37e4f2f8723d81f2f60ff7c9ffebdf"><div class="ttname"><a href="namespacepvr_1_1utils.html#a5e37e4f2f8723d81f2f60ff7c9ffebdf">pvr::utils::logMessageDebugUtilsMessengerCallback</a></div><div class="ttdeci">VKAPI_ATTR VkBool32 VKAPI_CALL logMessageDebugUtilsMessengerCallback(VkDebugUtilsMessageSeverityFlagBitsEXT messageSeverity, VkDebugUtilsMessageTypeFlagsEXT messageTypes, const VkDebugUtilsMessengerCallbackDataEXT *pCallbackData, void *pUserData)</div><div class="ttdoc">An application DebugUtilsMessengerCallback function providing logging for various events.</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aff24a1e7c47775943d761eaa3f7f555e"><div class="ttname"><a href="namespacepvr_1_1utils.html#aff24a1e7c47775943d761eaa3f7f555e">pvr::utils::uploadImage</a></div><div class="ttdeci">pvrvk::Image uploadImage(pvrvk::Device &amp;device, const Texture &amp;texture, bool allowDecompress, pvrvk::CommandBuffer &amp;commandBuffer, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator stagingBufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Upload image to gpu. The upload command and staging buffers are recorded in the commandbuffer.</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a431dbf49f0e027bd56dd461abd581f6a"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a431dbf49f0e027bd56dd461abd581f6a">pvr::utils::CreateSwapchainParameters::colorAttachmentFlagsIfMultisampled</a></div><div class="ttdeci">pvrvk::ImageUsageFlags colorAttachmentFlagsIfMultisampled</div><div class="ttdoc">Only used if multisampled. These are the flags for the attachment, the multisampled intermediate colo...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:885</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html">pvr::utils::ImageUpdateInfo</a></div><div class="ttdoc">The ImageUpdateInfo struct.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:560</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a7eaec27096b06e097a3ead372e30c68c"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7eaec27096b06e097a3ead372e30c68c">pvr::utils::beginQueueDebugLabel</a></div><div class="ttdeci">void beginQueueDebugLabel(pvrvk::Queue queue, const pvrvk::DebugUtilsLabel &amp;labelInfo)</div><div class="ttdoc">Begins identifying a region of work submitted to this queue. The calls to beginDebugUtilsLabel and en...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:132</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html_a4c6632a312584626162aa49c8e4156f4"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html#a4c6632a312584626162aa49c8e4156f4">pvr::utils::OnScreenObjects::renderPass</a></div><div class="ttdeci">pvrvk::RenderPass renderPass</div><div class="ttdoc">The renderpass object</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1003</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a6bbf339741431c707310cd47ea841300"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a6bbf339741431c707310cd47ea841300">pvr::utils::CreateSwapchainParameters::depthStencilStoreOp</a></div><div class="ttdeci">pvrvk::AttachmentStoreOp depthStencilStoreOp</div><div class="ttdoc">Color image load op. Default (don't care) is very critical for performance as it allows to completely...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:904</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a0f4a3a0c8eb6662f51128ce8a3b78a9f"><div class="ttname"><a href="namespacepvr_1_1utils.html#a0f4a3a0c8eb6662f51128ce8a3b78a9f">pvr::utils::updateImage</a></div><div class="ttdeci">void updateImage(pvrvk::Device &amp;device, pvrvk::CommandBufferBase transferCommandBuffer, ImageUpdateInfo *updateInfos, uint32_t numUpdateInfos, pvrvk::Format format, pvrvk::ImageLayout layout, bool isCubeMap, pvrvk::Image &amp;image, vma::Allocator bufferAllocator=nullptr)</div><div class="ttdoc">Utility function to update an image's data. This function will record the update of the image in the ...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a3bae3542769781673b17522db91c19b0"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">pvr::utils::ImageUpdateInfo::offsetY</a></div><div class="ttdeci">int32_t offsetY</div><div class="ttdoc">Valid for 2D, 3D and Cube texture updates.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:572</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a868fafd2e077cfc7281c45c64677e47a"><div class="ttname"><a href="namespacepvr_1_1utils.html#a868fafd2e077cfc7281c45c64677e47a">pvr::utils::loadAndUploadImageAndView</a></div><div class="ttdeci">pvrvk::ImageView loadAndUploadImageAndView(pvrvk::Device &amp;device, const char *fileName, bool allowDecompress, pvrvk::CommandBuffer &amp;commandBuffer, IAssetProvider &amp;assetProvider, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, Texture *outAssetTexture=nullptr, vma::Allocator stagingBufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Load and upload image to gpu. The upload command and staging buffers are recorded in the commandbuffe...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a370ec57dd60df6f8d8327619a8a90178"><div class="ttname"><a href="namespacepvr_1_1utils.html#a370ec57dd60df6f8d8327619a8a90178">pvr::utils::loadAndUploadImage</a></div><div class="ttdeci">pvrvk::Image loadAndUploadImage(pvrvk::Device &amp;device, const char *fileName, bool allowDecompress, pvrvk::CommandBuffer &amp;commandBuffer, IAssetProvider &amp;assetProvider, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, Texture *outAssetTexture=nullptr, vma::Allocator stagingBufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Load and upload image to gpu. The upload command and staging buffers are recorded in the commandbuffe...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vulkan_version_html_a4a7dfa46502a507457263578dd48e572"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a4a7dfa46502a507457263578dd48e572">pvr::utils::VulkanVersion::toVulkanVersion</a></div><div class="ttdeci">uint32_t toVulkanVersion()</div><div class="ttdoc">Converts the major, minor and patch versions to a uint32_t which can be directly used when creating a...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:710</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a93735fa36d5aedc03cf746dfa208a4b5"><div class="ttname"><a href="namespacepvr_1_1utils.html#a93735fa36d5aedc03cf746dfa208a4b5">pvr::utils::inferAspectFromFormat</a></div><div class="ttdeci">pvrvk::ImageAspectFlags inferAspectFromFormat(pvrvk::Format format)</div><div class="ttdoc">Infers the pvrvk::ImageAspectFlags from the pvrvk::Format.</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a33c374ce16fadf5be9b63e3675e51585"><div class="ttname"><a href="namespacepvr_1_1utils.html#a33c374ce16fadf5be9b63e3675e51585">pvr::utils::createSwapchainAndDepthStencilImageAndViews</a></div><div class="ttdeci">void createSwapchainAndDepthStencilImageAndViews(const pvrvk::Device &amp;device, const pvrvk::Surface &amp;surface, pvr::DisplayAttributes &amp;displayAttributes, pvrvk::Swapchain &amp;outSwapchain, Multi&lt; pvrvk::ImageView &gt; &amp;outDepthStencilImages, const pvrvk::ImageUsageFlags &amp;swapchainImageUsageFlags=pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT, const pvrvk::ImageUsageFlags &amp;dsImageUsageFlags=pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT|pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT, const vma::Allocator &amp;imageAllocator=nullptr, vma::AllocationCreateFlags dsImageAllocationCreateFlags=vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT)</div><div class="ttdoc">DEPRECATED. Either use createSwapchainRenderpassFramebuffers, or createSwapchain and createAttachment...</div></div>
<div class="ttc" id="anamespacepvr_html"><div class="ttname"><a href="namespacepvr.html">pvr</a></div><div class="ttdoc">Main PowerVR Framework namespace</div><div class="ttdef"><b>Definition:</b> EglPlatformContext.h:21</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a7fbafa4f264dcddf481f21ad03027d97"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7fbafa4f264dcddf481f21ad03027d97">pvr::utils::uploadImageAndView</a></div><div class="ttdeci">pvrvk::ImageView uploadImageAndView(pvrvk::Device &amp;device, const Texture &amp;texture, bool allowDecompress, pvrvk::SecondaryCommandBuffer &amp;commandBuffer, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator stagingBufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Uploads an image to gpu. The upload command and staging buffers are recorded in the commandbuffer.</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_ad7a3e2e94b815d1f050e23a832fff55c"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#ad7a3e2e94b815d1f050e23a832fff55c">pvr::utils::CreateSwapchainParameters::depthStencilAttachmentFlagsIfMultisampled</a></div><div class="ttdeci">pvrvk::ImageUsageFlags depthStencilAttachmentFlagsIfMultisampled</div><div class="ttdoc">Only used if multisampled. These are the flags for the attachment, the multisampled intermediate dept...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:887</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_ae3adba7320aa2b924adc48cfa5e043ed"><div class="ttname"><a href="namespacepvr_1_1utils.html#ae3adba7320aa2b924adc48cfa5e043ed">pvr::utils::insertDebugUtilsLabel</a></div><div class="ttdeci">void insertDebugUtilsLabel(pvrvk::CommandBufferBase commandBufferBase, const pvrvk::DebugUtilsLabel &amp;labelInfo)</div><div class="ttdoc">Inserts a single debug label any time.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:178</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a54f2bb511b50d2c11ddc7377a60714ad"><div class="ttname"><a href="namespacepvr_1_1utils.html#a54f2bb511b50d2c11ddc7377a60714ad">pvr::utils::throwOnErrorDebugReportCallback</a></div><div class="ttdeci">VKAPI_ATTR VkBool32 VKAPI_CALL throwOnErrorDebugReportCallback(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t object, size_t location, int32_t messageCode, const char *pLayerPrefix, const char *pMessage, void *pUserData)</div><div class="ttdoc">An application DebugReportCallback function providing logging for various events. The callback will a...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a605300322093e44b7cd509533f14b4fa"><div class="ttname"><a href="namespacepvr_1_1utils.html#a605300322093e44b7cd509533f14b4fa">pvr::utils::endQueueDebugLabel</a></div><div class="ttdeci">void endQueueDebugLabel(pvrvk::Queue queue)</div><div class="ttdoc">Ends a label region of work submitted to this queue.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:140</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html_a6aba5f3c28108c13b8e3214125634852"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html#a6aba5f3c28108c13b8e3214125634852">pvr::utils::OnScreenObjects::framebuffer</a></div><div class="ttdeci">pvr::Multi&lt; pvrvk::Framebuffer &gt; framebuffer</div><div class="ttdoc">The collection of framebuffer objects</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1005</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a1bbc4fadd267c20f1464ab4d21269bbf"><div class="ttname"><a href="namespacepvr_1_1utils.html#a1bbc4fadd267c20f1464ab4d21269bbf">pvr::utils::createSwapchain</a></div><div class="ttdeci">pvrvk::Swapchain createSwapchain(const pvrvk::Device &amp;device, const pvrvk::Surface &amp;surface, pvr::DisplayAttributes &amp;displayAttributes, pvrvk::ImageUsageFlags swapchainImageUsageFlags=pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT, const std::vector&lt; pvrvk::Format &gt; &amp;preferredColorFormats=std::vector&lt; pvrvk::Format &gt;())</div><div class="ttdoc">Create a pvrvk::Swapchain using a pre-initialised pvrvk::Device and pvrvk::Surface.</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html_a3b1d065f0100541b2bbdb7763550bfbe"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html#a3b1d065f0100541b2bbdb7763550bfbe">pvr::utils::OnScreenObjects::depthStencilImages</a></div><div class="ttdeci">pvr::Multi&lt; pvrvk::ImageView &gt; depthStencilImages</div><div class="ttdoc">The final depth stencil images. If multisampled, will contain the &quot;Depth Resolve&quot; attachments,...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1009</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_device_extensions_html_ab080c06dadfec28a35acd108a24a87c6"><div class="ttname"><a href="structpvr_1_1utils_1_1_device_extensions.html#ab080c06dadfec28a35acd108a24a87c6">pvr::utils::DeviceExtensions::DeviceExtensions</a></div><div class="ttdeci">DeviceExtensions()</div><div class="ttdoc">Default constructor. Initialises a list of device extensions to be used by default when using the Fra...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_instance_layers_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_layers.html">pvr::utils::InstanceLayers</a></div><div class="ttdoc">Container for a list of instance layers to be used for initiailising an instance using the helper fun...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:714</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a536e064fd5bd062dab8b10d62542a047"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a536e064fd5bd062dab8b10d62542a047">pvr::utils::CreateSwapchainParameters::imageAllocator</a></div><div class="ttdeci">vma::Allocator imageAllocator</div><div class="ttdoc">The allocator to use for all the images</div><div class="ttdef"><b>Definition:</b> HelperVk.h:889</div></div>
<div class="ttc" id="anamespacepvr_1_1ui_html_a53dcd60295ba8451f90e60213d82b2e8"><div class="ttname"><a href="namespacepvr_1_1ui.html#a53dcd60295ba8451f90e60213d82b2e8">pvr::ui::Image</a></div><div class="ttdeci">std::shared_ptr&lt; impl::Image_ &gt; Image</div><div class="ttdoc">A Reference Counted Framework Object wrapping the Image_ class. The Image is a Sprite and contains a ...</div><div class="ttdef"><b>Definition:</b> SpriteGles.h:85</div></div>
<div class="ttc" id="a_memory_allocator_8h_html_a0e66dd42c1b9d1bb7759aafd399bf5c1"><div class="ttname"><a href="_memory_allocator_8h.html#a0e66dd42c1b9d1bb7759aafd399bf5c1">pvr::utils::vma::AllocationCreateFlags</a></div><div class="ttdeci">AllocationCreateFlags</div><div class="ttdoc">The AllocationCreateFlags enum set defines a set of flags which may effect the way in which the devic...</div><div class="ttdef"><b>Definition:</b> MemoryAllocator.h:105</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_af9bdb2f2512ec72d5669ae3b870d7fa5"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">pvr::utils::ImageUpdateInfo::offsetZ</a></div><div class="ttdeci">int32_t offsetZ</div><div class="ttdoc">Valid for 3D texture updates only.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:580</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vertex_bindings___name_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings___name.html">pvr::utils::VertexBindings_Name</a></div><div class="ttdoc">Represents a shader Reflective binding, tying a Semantic name to an Attribute variable name.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1245</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a7710bb6fdcb3e45a8787cb4cc3f64e6c"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7710bb6fdcb3e45a8787cb4cc3f64e6c">pvr::utils::createSingleBuffersFromModel</a></div><div class="ttdeci">void createSingleBuffersFromModel(pvrvk::Device &amp;device, const assets::Model &amp;model, VboInsertIterator_ vbos, IboInsertIterator_ ibos, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a set of IBOs from the vertex data of the meshes of a model and inse...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1596</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a7b2d4df80d31e3e63923ab1d68152ace"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7b2d4df80d31e3e63923ab1d68152ace">pvr::utils::getNumSamplesFromSampleCountFlags</a></div><div class="ttdeci">uint8_t getNumSamplesFromSampleCountFlags(pvrvk::SampleCountFlags sampleCountFlags)</div><div class="ttdoc">Convert pvrvk sample count to the number of samples it is equivalent to</div><div class="ttdef"><b>Definition:</b> HelperVk.h:74</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a2f5ffc86dccf4556acd4e686e6e31778"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a2f5ffc86dccf4556acd4e686e6e31778">pvr::utils::CreateSwapchainParameters::colorStoreOp</a></div><div class="ttdeci">pvrvk::AttachmentStoreOp colorStoreOp</div><div class="ttdoc">Color image load op. Usually default (store) is necessary for the rendering to be visible.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:900</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vertex_bindings_html_a74f6b69852fdb3031ef27bdffa5e2c99"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings.html#a74f6b69852fdb3031ef27bdffa5e2c99">pvr::utils::VertexBindings::semanticName</a></div><div class="ttdeci">std::string semanticName</div><div class="ttdoc">Effect semantic.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1238</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a1bcac1e9af1869244329d12c291200a5"><div class="ttname"><a href="namespacepvr_1_1utils.html#a1bcac1e9af1869244329d12c291200a5">pvr::utils::getDepthStencilBits</a></div><div class="ttdeci">void getDepthStencilBits(pvrvk::Format format, uint32_t &amp;depthBits, uint32_t &amp;stencilBits)</div><div class="ttdoc">Determines the number of depth and stencil bits per pixel for the given pvrvk::Format.</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_populate_info_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html">pvr::utils::QueuePopulateInfo</a></div><div class="ttdoc">A structure encapsulating the set of queue flags required for a particular queue retrieved via the he...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:754</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vulkan_version_html_a93aa7e756fb29313e3556bb4f5c10f3a"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a93aa7e756fb29313e3556bb4f5c10f3a">pvr::utils::VulkanVersion::VulkanVersion</a></div><div class="ttdeci">VulkanVersion(uint32_t majorV=1, uint32_t minorV=1, uint32_t patchV=0)</div><div class="ttdoc">Default constructor for the VulkanVersion structure initiailising the version to the first Vulkan rel...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:706</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a0791bbf3f9ee51623e57639997a3238c"><div class="ttname"><a href="namespacepvr_1_1utils.html#a0791bbf3f9ee51623e57639997a3238c">pvr::utils::createMultipleBuffersFromMesh</a></div><div class="ttdeci">void createMultipleBuffersFromMesh(pvrvk::Device &amp;device, const assets::Mesh &amp;mesh, std::vector&lt; pvrvk::Buffer &gt; &amp;outVbos, pvrvk::Buffer &amp;outIbo, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator bufferAllocator, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a single IBO from all the vertex data of a mesh.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1413</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html_a2079bd8a3a8c8a97ec1310d425515f22"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html#a2079bd8a3a8c8a97ec1310d425515f22">pvr::utils::OnScreenObjects::colorMultisampledAttachmentImages</a></div><div class="ttdeci">pvr::Multi&lt; pvrvk::ImageView &gt; colorMultisampledAttachmentImages</div><div class="ttdoc">If multisampled, the &quot;Color Attachments&quot; (this is where multisampled rendering will be happening),...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1011</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a7088e032f08263a7d72acafbd6c93fca"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">pvr::utils::ImageUpdateInfo::dataHeight</a></div><div class="ttdeci">uint32_t dataHeight</div><div class="ttdoc">Valid for 2D, 3D and Cube texture updates.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:574</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a8589ef735f2d2222a14ba470218c02af"><div class="ttname"><a href="namespacepvr_1_1utils.html#a8589ef735f2d2222a14ba470218c02af">pvr::utils::createSwapchainRenderpassFramebuffers</a></div><div class="ttdeci">OnScreenObjects createSwapchainRenderpassFramebuffers(const pvrvk::Device &amp;device, const pvrvk::Surface &amp;surface, pvr::DisplayAttributes &amp;displayAttributes, const CreateSwapchainParameters &amp;params=CreateSwapchainParameters())</div><div class="ttdoc">Create a pvrvk::Framebuffer and RenderPass to use for 'default' rendering to the 'onscreen' color ima...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_a66a405da028afef5eb14516642942666"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#a66a405da028afef5eb14516642942666">pvr::utils::CreateSwapchainParameters::initialSwapchainLayout</a></div><div class="ttdeci">pvrvk::ImageLayout initialSwapchainLayout</div><div class="ttdoc">Layout that the swapchain images will be in on creation.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:894</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vertex_bindings___name_html_a20e78764d5aab84abdc052ea3e43a965"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings___name.html#a20e78764d5aab84abdc052ea3e43a965">pvr::utils::VertexBindings_Name::semantic</a></div><div class="ttdeci">StringHash semantic</div><div class="ttdoc">Effect semantic.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1248</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a6bbf98fde377992e9e7e0d23f38a9dcc"><div class="ttname"><a href="namespacepvr_1_1utils.html#a6bbf98fde377992e9e7e0d23f38a9dcc">pvr::utils::getMemoryTypeIndex</a></div><div class="ttdeci">void getMemoryTypeIndex(const pvrvk::PhysicalDevice &amp;physicalDevice, const uint32_t allowedMemoryTypeBits, const pvrvk::MemoryPropertyFlags requiredMemoryProperties, const pvrvk::MemoryPropertyFlags optimalMemoryProperties, uint32_t &amp;outMemoryTypeIndex, pvrvk::MemoryPropertyFlags &amp;outMemoryPropertyFlags)</div><div class="ttdoc">Utility function for retrieving a memory type index for a suitable memory type which supports the mem...</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a6cde0ffe41f15363a6589bf287aa30d3"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a6cde0ffe41f15363a6589bf287aa30d3">pvr::utils::ImageUpdateInfo::arrayIndex</a></div><div class="ttdeci">uint32_t arrayIndex</div><div class="ttdoc">Valid for 1D,2D and Cube texture updates.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:566</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_aec4f6de36b6b88b379a7aea42fd41141"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#aec4f6de36b6b88b379a7aea42fd41141">pvr::utils::CreateSwapchainParameters::depthStencilLoadOp</a></div><div class="ttdeci">pvrvk::AttachmentLoadOp depthStencilLoadOp</div><div class="ttdoc">Color image load op. Default (clear) is very important for performance as it allows to skip loading f...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:902</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_abfc39f69eccb3090b41a95013ddfd682"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#abfc39f69eccb3090b41a95013ddfd682">pvr::utils::CreateSwapchainParameters::imageAllocatorFlags</a></div><div class="ttdeci">vma::AllocationCreateFlags imageAllocatorFlags</div><div class="ttdoc">The flags to use when allocating the attachments.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:891</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a680ef5943947e565f7d14aa9ff0393d9"><div class="ttname"><a href="namespacepvr_1_1utils.html#a680ef5943947e565f7d14aa9ff0393d9">pvr::utils::createInstance</a></div><div class="ttdeci">pvrvk::Instance createInstance(const std::string &amp;applicationName, VulkanVersion apiVersion=VulkanVersion(), const InstanceExtensions &amp;instanceExtensions=InstanceExtensions(), const InstanceLayers &amp;instanceLayers=InstanceLayers())</div><div class="ttdoc">Utility function for creating a Vulkan instance and supported physical devices using the appropriatel...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a0324a015a6d6d4df8b7caa525416ff89"><div class="ttname"><a href="namespacepvr_1_1utils.html#a0324a015a6d6d4df8b7caa525416ff89">pvr::utils::createOnScreenRenderPass</a></div><div class="ttdeci">pvrvk::RenderPass createOnScreenRenderPass(const pvrvk::Swapchain &amp;swapchain, bool hasDepthStencil, const pvrvk::Format depthStencilFormat=pvrvk::Format::e_UNDEFINED, pvrvk::ImageLayout initialSwapchainLayout=pvrvk::ImageLayout::e_UNDEFINED, pvrvk::ImageLayout initialDepthStencilLayout=pvrvk::ImageLayout::e_UNDEFINED, pvrvk::AttachmentLoadOp colorLoadOp=pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp colorStoreOp=pvrvk::AttachmentStoreOp::e_STORE, pvrvk::AttachmentLoadOp depthStencilLoadOp=pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp depthStencilStoreOp=pvrvk::AttachmentStoreOp::e_DONT_CARE, pvrvk::SampleCountFlags samples=pvrvk::SampleCountFlags::e_1_BIT)</div><div class="ttdoc">Create a renderpass for On-Screen (or other swapchain-based) rendering, based on the information cont...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_ae0c2fd1a13ff3b5e9086e13ea4608c43"><div class="ttname"><a href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">pvr::utils::populateInputAssemblyFromMesh</a></div><div class="ttdeci">void populateInputAssemblyFromMesh(const assets::Mesh &amp;mesh, const VertexBindings *bindingMap, uint16_t numBindings, pvrvk::PipelineVertexInputStateCreateInfo &amp;vertexCreateInfo, pvrvk::PipelineInputAssemblerStateCreateInfo &amp;inputAssemblerCreateInfo, uint16_t *numOutBuffers=nullptr)</div><div class="ttdoc">Fills out input assembly and vertex input state structures using a mesh and a list of corresponding V...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1261</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_ac4a791a9c8914a9bf3b74db574b0c842"><div class="ttname"><a href="namespacepvr_1_1utils.html#ac4a791a9c8914a9bf3b74db574b0c842">pvr::utils::updateBufferUsingStagingBuffer</a></div><div class="ttdeci">void updateBufferUsingStagingBuffer(pvrvk::Device &amp;device, pvrvk::Buffer &amp;buffer, pvrvk::CommandBufferBase uploadCmdBuffer, const void *data, VkDeviceSize offset=0, VkDeviceSize size=VK_WHOLE_SIZE, vma::Allocator stagingBufferAllocator=nullptr)</div><div class="ttdoc">Utility function to update a buffer's data via an indirect copy from a temporary staging buffer....</div><div class="ttdef"><b>Definition:</b> HelperVk.h:644</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_ae8eb6603e41f6af5b9ddfbe6d6485570"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">pvr::utils::ImageUpdateInfo::imageWidth</a></div><div class="ttdeci">uint32_t imageWidth</div><div class="ttdoc">Valid for all.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:564</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aaba79655d85e1b12e2fa33fe431533cb"><div class="ttname"><a href="namespacepvr_1_1utils.html#aaba79655d85e1b12e2fa33fe431533cb">pvr::utils::createOnscreenFramebuffers</a></div><div class="ttdeci">ContainerType createOnscreenFramebuffers(const pvrvk::Swapchain &amp;swapchain, const pvrvk::RenderPass &amp;renderPass, const pvrvk::ImageView *depthStencilImages, pvrvk::ImageView *colorMultisampledImages, pvrvk::ImageView *depthStencilMultisampledImages)</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1134</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_populate_info_html_ab303d9a7f5c55fcd9a13f272ae23b764"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">pvr::utils::QueuePopulateInfo::surface</a></div><div class="ttdeci">pvrvk::Surface surface</div><div class="ttdoc">Indicates that the retrieved queue must support presentation to the provided surface.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:760</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_ad0c9ce4267ec635305fc87aba0b9d9c2"><div class="ttname"><a href="namespacepvr_1_1utils.html#ad0c9ce4267ec635305fc87aba0b9d9c2">pvr::utils::create3dPlaneMesh</a></div><div class="ttdeci">void create3dPlaneMesh(uint32_t width, uint32_t depth, bool generateTexCoords, bool generateNormalCoords, assets::Mesh &amp;outMesh)</div><div class="ttdoc">Creates a 3d plane mesh based on the width and depth specified. Texture coordinates and normal coordi...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a56ce1f5bcf625224715988176c3519a2"><div class="ttname"><a href="namespacepvr_1_1utils.html#a56ce1f5bcf625224715988176c3519a2">pvr::utils::getColorBits</a></div><div class="ttdeci">void getColorBits(pvrvk::Format format, uint32_t &amp;redBits, uint32_t &amp;greenBits, uint32_t &amp;blueBits, uint32_t &amp;alphaBits)</div><div class="ttdoc">Determines the number of color bits per pixel for the given pvrvk::Format.</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_ac9fe2c31e80c1a067508d5d288f12801"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">pvr::utils::ImageUpdateInfo::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdoc">Valid for texture updates only.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:581</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_image_update_info_html_a35ffe0060a18ba6f85103107860e465a"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">pvr::utils::ImageUpdateInfo::dataSize</a></div><div class="ttdeci">uint32_t dataSize</div><div class="ttdoc">Valid for all.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:569</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_on_screen_objects_html_a34018b1ee286f6223365b66a0d8145c2"><div class="ttname"><a href="structpvr_1_1utils_1_1_on_screen_objects.html#a34018b1ee286f6223365b66a0d8145c2">pvr::utils::OnScreenObjects::depthStencilMultisampledAttachmentImages</a></div><div class="ttdeci">pvr::Multi&lt; pvrvk::ImageView &gt; depthStencilMultisampledAttachmentImages</div><div class="ttdoc">If multisampled, the &quot;Depth Attachments&quot; (this is where multisampled rendering will be happening),...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1013</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a100ef068316423d649e18a3a2168aacb"><div class="ttname"><a href="namespacepvr_1_1utils.html#a100ef068316423d649e18a3a2168aacb">pvr::utils::appendSingleBuffersFromModel</a></div><div class="ttdeci">void appendSingleBuffersFromModel(pvrvk::Device &amp;device, const assets::Model &amp;model, VboContainer_ &amp;vbos, IboContainer_ &amp;ibos, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a set of IBOs from the vertex data of the meshes of a model and appe...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1617</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_queue_access_info_html_a01adf09947e46f17ac7f924a3b5186f2"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html#a01adf09947e46f17ac7f924a3b5186f2">pvr::utils::QueueAccessInfo::QueueAccessInfo</a></div><div class="ttdeci">QueueAccessInfo()</div><div class="ttdoc">Constructor for a QueueAccessInfo which sets family id and queue id to invalid values.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:788</div></div>
<div class="ttc" id="aclasspvr_1_1_multi_html"><div class="ttname"><a href="classpvr_1_1_multi.html">pvr::Multi&lt; pvrvk::Framebuffer &gt;</a></div></div>
<div class="ttc" id="aclasspvr_1_1_multi_html_a2e662f3b39e54e6995421a1f15ed9103"><div class="ttname"><a href="classpvr_1_1_multi.html#a2e662f3b39e54e6995421a1f15ed9103">pvr::Multi::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">Number of items currently held in the object</div><div class="ttdef"><b>Definition:</b> MultiObject.h:62</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a59222cc49624a76fab4d4f65e3337ac3"><div class="ttname"><a href="namespacepvr_1_1utils.html#a59222cc49624a76fab4d4f65e3337ac3">pvr::utils::isImageUsageSupportedBySurface</a></div><div class="ttdeci">bool isImageUsageSupportedBySurface(const pvrvk::SurfaceCapabilitiesKHR &amp;surfaceCapabilities, pvrvk::ImageUsageFlags imageUsage)</div><div class="ttdoc">Utility function used to determine whether the SurfaceCapabilitiesKHR supportedUsageFlags member cont...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:818</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a6faa52cbc7bd9bc2ff02b680ca3c869d"><div class="ttname"><a href="namespacepvr_1_1utils.html#a6faa52cbc7bd9bc2ff02b680ca3c869d">pvr::utils::convertToPVRVk</a></div><div class="ttdeci">pvrvk::IndexType convertToPVRVk(IndexType type)</div><div class="ttdoc">Convert a pvr::IndexType to its Native, Vulkan representation.</div><div class="ttdef"><b>Definition:</b> ConvertToPVRVkTypes.h:59</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_debug_utils_callbacks_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_debug_utils_callbacks.html">pvr::utils::DebugUtilsCallbacks</a></div><div class="ttdoc">A simple wrapper structure which provides a more abstract representation of a set of debug utils mess...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:113</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aeecb636ae6f2c37e90259571ba245f3b"><div class="ttname"><a href="namespacepvr_1_1utils.html#aeecb636ae6f2c37e90259571ba245f3b">pvr::utils::createSingleBuffersFromMesh</a></div><div class="ttdeci">void createSingleBuffersFromMesh(pvrvk::Device &amp;device, const assets::Mesh &amp;mesh, pvrvk::Buffer &amp;outVbo, pvrvk::Buffer &amp;outIbo, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a single VBO and a single IBO from all the vertex data of a mesh.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1344</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_vulkan_version_html_a6c8a350c06cf3c659a092f0688f860b2"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">pvr::utils::VulkanVersion::minorV</a></div><div class="ttdeci">uint32_t minorV</div><div class="ttdoc">The minor version number.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:698</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_aeadbbd98fbeac18389e58b089db81e73"><div class="ttname"><a href="namespacepvr_1_1utils.html#aeadbbd98fbeac18389e58b089db81e73">pvr::utils::createImage</a></div><div class="ttdeci">pvrvk::Image createImage(const pvrvk::Device &amp;device, const pvrvk::ImageCreateInfo &amp;createInfo, pvrvk::MemoryPropertyFlags requiredMemoryFlags=pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT, pvrvk::MemoryPropertyFlags optimalMemoryFlags=pvrvk::MemoryPropertyFlags::e_NONE, const vma::Allocator &amp;imageAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">create a new Image(sparse or with memory backing, depending on flags . The user should not call bindM...</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a12e6adce5bcec23564fd67553c9f4088"><div class="ttname"><a href="namespacepvr_1_1utils.html#a12e6adce5bcec23564fd67553c9f4088">pvr::utils::endCommandBufferDebugLabel</a></div><div class="ttdeci">void endCommandBufferDebugLabel(pvrvk::CommandBufferBase commandBufferBase)</div><div class="ttdoc">Ends a label region of work submitted to this base command buffer.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:164</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a3f241ba112200732fffaeb2906b6ed4b"><div class="ttname"><a href="namespacepvr_1_1utils.html#a3f241ba112200732fffaeb2906b6ed4b">pvr::utils::beginCommandBufferDebugLabel</a></div><div class="ttdeci">void beginCommandBufferDebugLabel(pvrvk::CommandBufferBase commandBufferBase, const pvrvk::DebugUtilsLabel &amp;labelInfo)</div><div class="ttdoc">Begins identifying a region of work submitted to this command buffer. The calls to beginDebugUtilsLab...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:150</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a9af7fff69d5da0331018f68f0d95ba8a"><div class="ttname"><a href="namespacepvr_1_1utils.html#a9af7fff69d5da0331018f68f0d95ba8a">pvr::utils::generateTextureAtlas</a></div><div class="ttdeci">void generateTextureAtlas(pvrvk::Device &amp;device, const pvrvk::Image *inputImages, pvrvk::Rect2Df *outUVs, uint32_t numImages, pvrvk::ImageLayout inputImageLayout, pvrvk::ImageView *outImageView, TextureHeader *outDescriptor, pvrvk::CommandBufferBase cmdBuffer, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Utility function for generating a texture atlas based on a set of images.</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_a1e9a18d03439c5efe7d88dbb3c16b783"><div class="ttname"><a href="namespacepvr_1_1utils.html#a1e9a18d03439c5efe7d88dbb3c16b783">pvr::utils::populateViewportStateCreateInfo</a></div><div class="ttdeci">void populateViewportStateCreateInfo(const pvrvk::Framebuffer &amp;framebuffer, pvrvk::PipelineViewportStateCreateInfo &amp;outCreateInfo)</div><div class="ttdoc">Fills out a pvrvk::ViewportStateCreateInfo structure setting parameters for a 'default' viewport and ...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1223</div></div>
<div class="ttc" id="astructpvr_1_1utils_1_1_create_swapchain_parameters_html_adf2f875d5f09252f62a98d7ffb5bca43"><div class="ttname"><a href="structpvr_1_1utils_1_1_create_swapchain_parameters.html#adf2f875d5f09252f62a98d7ffb5bca43">pvr::utils::CreateSwapchainParameters::depthStencilImageUsageFlags</a></div><div class="ttdeci">pvrvk::ImageUsageFlags depthStencilImageUsageFlags</div><div class="ttdoc">If multisampled, this is actually the depth &quot;resolve&quot; flags. Otherwise, these are the flags for the o...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:883</div></div>
<div class="ttc" id="anamespacepvr_1_1utils_html_ac3d376caf410d6a539eb713d8886ebee"><div class="ttname"><a href="namespacepvr_1_1utils.html#ac3d376caf410d6a539eb713d8886ebee">pvr::utils::uploadImageAndViewSubmit</a></div><div class="ttdeci">pvrvk::ImageView uploadImageAndViewSubmit(pvrvk::Device &amp;device, const Texture &amp;texture, bool allowDecompress, pvrvk::CommandPool &amp;commandPool, pvrvk::Queue &amp;queue, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator stagingBufferAllocator=nullptr, vma::Allocator imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Uploads an image to GPU memory and returns the created image view and associated image.</div></div>
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part (NON TREEVIEW ONLY!!) -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="FooterMainContainer">
	<div id="FooterContainer">
		<div class="footerlogo">
			<a href="http://www.imgtec.com" target="_blank"><img src="img-footer-logo-grey.png" width="20%" height="20%" border="none" /></a>
		</div>
		<div class="copyright"><p>&copy; Imagination Technologies Limited<br> All rights reserved</p></div>
	</div>
</div>
</body>
</html>
